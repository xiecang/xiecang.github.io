<!DOCTYPE html><html dir="ltr" lang="en" class="scroll-smooth" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-precomposed.png"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link href="/favicon.ico" rel="icon" sizes="any"><link rel="canonical" href="https://xiecang.cc/posts/data-structures-and-algorithms/"><meta name="generator" content="Astro v5.10.0"><!-- General Meta Tags --><title>数据结构和算法学习笔记 | Cang&#39;s Blog</title><meta name="title" content="数据结构和算法学习笔记 | Cang's Blog"><meta name="description" content="本文大致梳理了常见的数据结构和算法，包含了动态数组、栈、队列、链表、选择排序、插入排序、归并排序、快速排序（单路、双路、三路）、 二分查找、set 和 map、优先队列、堆、冒泡排序、希尔排序、排序算法稳定性、线段树（区间树）、Tire(字典树)、并查集、 AVL 树、2-3树、红黑树、哈希表、SQRT 分解等。"><meta name="author" content="xc"><link rel="sitemap" href="/sitemap-index.xml"><!-- Open Graph / Facebook --><meta property="og:title" content="数据结构和算法学习笔记 | Cang's Blog"><meta property="og:description" content="本文大致梳理了常见的数据结构和算法，包含了动态数组、栈、队列、链表、选择排序、插入排序、归并排序、快速排序（单路、双路、三路）、 二分查找、set 和 map、优先队列、堆、冒泡排序、希尔排序、排序算法稳定性、线段树（区间树）、Tire(字典树)、并查集、 AVL 树、2-3树、红黑树、哈希表、SQRT 分解等。"><meta property="og:url" content="https://xiecang.cc/posts/data-structures-and-algorithms/"><meta property="og:image" content="https://xiecang.cc/posts/data-structures-and-algorithms/index.png"><!-- Article Published/Modified time --><meta property="article:published_time" content="2020-03-06T22:06:22.000Z"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://xiecang.cc/posts/data-structures-and-algorithms/"><meta property="twitter:title" content="数据结构和算法学习笔记 | Cang's Blog"><meta property="twitter:description" content="本文大致梳理了常见的数据结构和算法，包含了动态数组、栈、队列、链表、选择排序、插入排序、归并排序、快速排序（单路、双路、三路）、 二分查找、set 和 map、优先队列、堆、冒泡排序、希尔排序、排序算法稳定性、线段树（区间树）、Tire(字典树)、并查集、 AVL 树、2-3树、红黑树、哈希表、SQRT 分解等。"><meta property="twitter:image" content="https://xiecang.cc/posts/data-structures-and-algorithms/index.png"><!-- Google JSON-LD Structured data --><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"数据结构和算法学习笔记 | Cang's Blog","image":"https://xiecang.cc/posts/data-structures-and-algorithms/index.png","datePublished":"2020-03-06T22:06:22.000Z","author":[{"@type":"Person","name":"xc","url":"https://xiecang.cc/"}]}</script><!-- Enable RSS feed auto-discovery  --><!-- https://docs.astro.build/en/recipes/rss/#enabling-rss-feed-auto-discovery --><link rel="alternate" type="application/rss+xml" title="Cang's Blog" href="https://xiecang.cc/rss.xml"><meta name="theme-color" content=""><meta name="google-site-verification" content="DecnVgfxBStKU-1msMSJO3n40koVYL3Oy951LQ776j0"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CtSceO8m.js"></script><script src="/toggle-theme.js"></script><link rel="stylesheet" href="/_astro/about.CF53hbI7.css">
<style>@keyframes astroFadeInOut{0%{opacity:1}to{opacity:0}}@keyframes astroFadeIn{0%{opacity:0;mix-blend-mode:plus-lighter}to{opacity:1;mix-blend-mode:plus-lighter}}@keyframes astroFadeOut{0%{opacity:1;mix-blend-mode:plus-lighter}to{opacity:0;mix-blend-mode:plus-lighter}}@keyframes astroSlideFromRight{0%{transform:translate(100%)}}@keyframes astroSlideFromLeft{0%{transform:translate(-100%)}}@keyframes astroSlideToRight{to{transform:translate(100%)}}@keyframes astroSlideToLeft{to{transform:translate(-100%)}}@media (prefers-reduced-motion){::view-transition-group(*),::view-transition-old(*),::view-transition-new(*){animation:none!important}[data-astro-transition-scope]{animation:none!important}}
:where([data-astro-image]){object-fit:var(--fit);object-position:var(--pos);height:auto}:where([data-astro-image=full-width]){width:100%}:where([data-astro-image=constrained]){max-width:100%}
</style><style>[data-astro-transition-scope="astro-fam6wyqg-1"] { view-transition-name: \6570\636E\7ED3\6784\548C\7B97\6CD5\5B66\4E60\7B14\8BB0; }@layer astro { ::view-transition-old(\6570\636E\7ED3\6784\548C\7B97\6CD5\5B66\4E60\7B14\8BB0) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(\6570\636E\7ED3\6784\548C\7B97\6CD5\5B66\4E60\7B14\8BB0) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(\6570\636E\7ED3\6784\548C\7B97\6CD5\5B66\4E60\7B14\8BB0) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(\6570\636E\7ED3\6784\548C\7B97\6CD5\5B66\4E60\7B14\8BB0) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-fam6wyqg-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-fam6wyqg-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-2"] { view-transition-name: \6570\636E\7ED3\6784; }@layer astro { ::view-transition-old(\6570\636E\7ED3\6784) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(\6570\636E\7ED3\6784) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(\6570\636E\7ED3\6784) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(\6570\636E\7ED3\6784) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-2"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-2"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style><style>[data-astro-transition-scope="astro-36ssibgs-3"] { view-transition-name: \7B97\6CD5; }@layer astro { ::view-transition-old(\7B97\6CD5) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(\7B97\6CD5) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(\7B97\6CD5) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(\7B97\6CD5) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-36ssibgs-3"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-36ssibgs-3"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body data-astro-cid-sckkx6r4>  <header> <a id="skip-to-content" href="#main-content" class="absolute start-16 -top-full z-50 bg-background px-3 py-2 text-accent backdrop-blur-lg transition-all focus:top-4">
Skip to content
</a> <div id="nav-container" class="mx-auto flex max-w-app flex-col items-center justify-between sm:flex-row"> <div id="top-nav-wrap" class="relative flex w-full items-baseline justify-between bg-background p-4 sm:items-center sm:py-6"> <a href="/" class="absolute py-1 text-xl leading-8 font-semibold whitespace-nowrap sm:static sm:my-auto sm:text-2xl sm:leading-none"> Cang&#39;s Blog </a> <nav id="nav-menu" class="flex w-full flex-col items-center sm:ms-2 sm:flex-row sm:justify-end sm:space-x-4 sm:py-0"> <button id="menu-btn" class="focus-outline self-end p-2 sm:hidden" aria-label="Open Menu" aria-expanded="false" aria-controls="menu-items"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden" id="close-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-menu-deep" id="menu-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M4 6h16" /><path d="M7 12h13" /><path d="M10 18h10" /></svg> </button> <ul id="menu-items" class="mt-4 grid w-44 grid-cols-2 place-content-center gap-2 [&#38;>li>a]:block [&#38;>li>a]:px-4 [&#38;>li>a]:py-3 [&#38;>li>a]:text-center [&#38;>li>a]:font-medium [&#38;>li>a]:hover:text-accent sm:[&#38;>li>a]:px-2 sm:[&#38;>li>a]:py-1 hidden sm:mt-0 sm:flex sm:w-auto sm:gap-x-5 sm:gap-y-0"> <li class="col-span-2"> <a href="/posts" class="active-nav">
Posts
</a> </li> <li class="col-span-2"> <a href="/tags">
Tags
</a> </li> <li class="col-span-2"> <a href="/about">
About
</a> </li> <li class="col-span-2"> <a href="/archives" class="group inline-block hover:text-accent focus-outline flex justify-center p-3 sm:p-1" aria-label="archives" title="Archives"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden sm:inline-block"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" /><path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" /><path d="M10 12l4 0" /></svg> <span class="sm:sr-only">Archives</span> </a> </li> <li class="col-span-1 flex items-center justify-center"> <a href="/search" class="group inline-block hover:text-accent focus-outline flex p-3 sm:p-1" aria-label="search" title="Search"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-search"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" /><path d="M21 21l-6 -6" /></svg> <span class="sr-only">Search</span> </a> </li> <li class="col-span-1 flex items-center justify-center"> <button id="theme-btn" class="focus-outline relative size-12 p-4 sm:size-8 hover:[&>svg]:stroke-accent" title="Toggles light & dark" aria-label="auto" aria-live="polite"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute top-[50%] left-[50%] -translate-[50%] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" /></svg> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute top-[50%] left-[50%] -translate-[50%] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z" /><path d="M6.343 17.657l-1.414 1.414" /><path d="M6.343 6.343l-1.414 -1.414" /><path d="M17.657 6.343l1.414 -1.414" /><path d="M17.657 17.657l1.414 1.414" /><path d="M4 12h-2" /><path d="M12 4v-2" /><path d="M20 12h2" /><path d="M12 20v2" /></svg> </button> </li> </ul> </nav> </div> </div> <div class="mx-auto max-w-app px-4"> <hr class="border-border" aria-hidden="true"> </div> </header> <script type="module">function s(){const e=document.querySelector("#menu-btn"),t=document.querySelector("#menu-items"),n=document.querySelector("#menu-icon"),o=document.querySelector("#close-icon");!e||!t||!n||!o||e.addEventListener("click",()=>{const c=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",c?"false":"true"),e.setAttribute("aria-label",c?"Open Menu":"Close Menu"),t.classList.toggle("hidden"),n.classList.toggle("hidden"),o.classList.toggle("hidden")})}s();document.addEventListener("astro:after-swap",s);</script> <div class="mx-auto flex w-full max-w-app items-center justify-start px-2"><a id="back-button" href="/" class="group inline-block hover:text-accent focus-outline mt-8 mb-2 flex hover:text-foreground/75"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 rtl:rotate-180"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 6l-6 6l6 6" /></svg><span>Go back</span></a></div><script type="module">function o(){const t=document.querySelector("#back-button"),e=sessionStorage.getItem("backUrl");e&&t&&(t.href=e)}document.addEventListener("astro:page-load",o);o();</script> <main id="main-content" class="mx-auto w-full max-w-app px-4 pb-12" data-pagefind-body> <h1 class="inline-block text-2xl font-bold text-accent sm:text-3xl" data-astro-transition-scope="astro-fam6wyqg-1"> 数据结构和算法学习笔记 </h1> <div class="my-2 flex items-center gap-2"> <div class="flex items-center gap-x-2 opacity-80"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 min-w-[1.375rem]"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" /><path d="M16 3v4" /><path d="M8 3v4" /><path d="M4 11h16" /><path d="M7 14h.013" /><path d="M10.01 14h.005" /><path d="M13.01 14h.005" /><path d="M16.015 14h.005" /><path d="M13.015 17h.005" /><path d="M7.01 17h.005" /><path d="M10.01 17h.005" /></svg>  <time class="text-sm sm:text-base" datetime="2020-03-06T22:06:22.000Z">7 Mar, 2020</time>  <span aria-hidden="true"> | </span> <span class="text-nowrap">42 min read</span>  </div>  </div> <article id="article" class="app-prose mx-auto mt-8 max-w-app prose-pre:bg-(--shiki-light-bg) dark:prose-pre:bg-(--shiki-dark-bg)"> <h2 id="目录">目录</h2>
<h2 id="写出正确代码">写出正确代码</h2>
<ul>
<li>
<p>定义清楚循环不变量</p>
</li>
<li>
<p>维护循环不变量</p>
</li>
<li>
<p>定义清楚函数功能</p>
<p>LinearSearch
输入： 数组 和 目标元素
输出： 目标元素所在的索引；若不存在返回 -1</p>
</li>
</ul>
<h2 id="复杂度分析">复杂度分析</h2>
<p>复杂度分析： 表示算法的性能
通常看最坏的情况
算法运行的上界</p>
<h2 id="选择排序法">选择排序法</h2>
<p>每次选择还没处理的最小元素，放到已处理的最后面</p>
<h3 id="如何原地完成不开辟新数组">如何原地完成？不开辟新数组</h3>
<p>i 指向已处理的最后一个元素
j 指向还没处理的第一个元素
minIndex 指向未处理的最小元素
arr[i, n) 是还没处理的元素
在 arr[i, n) 中找到最小的元素，放到 arr[i] 的位置</p>
<p>算法复杂度 O(n^2)</p>
<h2 id="数据结构">数据结构</h2>
<h3 id="数组">数组</h3>
<p>把数据码成一排进行存放</p>
<ul>
<li>数组最大的优点：快速查询，scores[2]</li>
</ul>
<p>新增和删除都是 O(n)
改/删除 已知索引 O(1), 未知 O(n)</p>
<h3 id="栈">栈</h3>
<p>栈是一种后进先出的数据结构</p>
<p>应用：
Undo(撤销) 操作
程序调用的系统栈</p>
<p>数组实现的栈：
进栈出栈的时间复杂度都是 O(1)</p>
<h2 id="队列">队列</h2>
<p>队列也是一种线性数据结构，先进先出
只能从队尾插入，队首取出</p>
<h3 id="数组实现的队列">数组实现的队列</h3>
<p>进（队尾添加） O(1)
出（队首出，后续向前挪一位） O(n)</p>
<h3 id="循环数组实现的队列">循环数组实现的队列</h3>
<p>思路
一个数组
front 指向队首
tail 指向队尾</p>
<p>front==tail 时候队列为空
入队时，(tail+1) % capacity
出队时， front - 1
当 tail 到容量上限时，且队首有空时（队列未满） tail 指向队首
(tail + 1) % capacity = front 时候队列满
队列满时始终有一个元素为空</p>
<p>可自动扩容
<img alt="初始情况" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1241px) 1241px, 100vw"  data-astro-image="constrained" width="1241" height="848" src="/_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%971.-_rbNCbD_1ybd62.webp" srcset="/_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%971.-_rbNCbD_2lSih3.webp 640w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%971.-_rbNCbD_2sOYNA.webp 750w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%971.-_rbNCbD_HCCBE.webp 828w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%971.-_rbNCbD_2t59X4.webp 1080w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%971.-_rbNCbD_1ybd62.webp 1241w">
<img alt="入队 tail + 1" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1223px) 1223px, 100vw"  data-astro-image="constrained" width="1223" height="828" src="/_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%972.y7h2-lt4_ZrWs7i.webp" srcset="/_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%972.y7h2-lt4_Z2vXQIO.webp 640w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%972.y7h2-lt4_9rKsd.webp 750w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%972.y7h2-lt4_Z1C4pus.webp 828w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%972.y7h2-lt4_1d685n.webp 1080w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%972.y7h2-lt4_ZrWs7i.webp 1223w">
<img alt="出队 front - 1" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1201px) 1201px, 100vw"  data-astro-image="constrained" width="1201" height="821" src="/_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%973.BXwE71mX_zSxMd.webp" srcset="/_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%973.BXwE71mX_ZGuYVy.webp 640w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%973.BXwE71mX_Zzyip1.webp 750w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%973.BXwE71mX_corhN.webp 828w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%973.BXwE71mX_1QsPkr.webp 1080w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%973.BXwE71mX_zSxMd.webp 1201w">
<img alt="队列满，tail 指向队首" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1166px) 1166px, 100vw"  data-astro-image="constrained" width="1166" height="790" src="/_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%974.DvwvnzK9_Z2uESec.webp" srcset="/_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%974.DvwvnzK9_t3FQe.webp 640w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%974.DvwvnzK9_Bsh85.webp 750w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%974.DvwvnzK9_Z1a3SOA.webp 828w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%974.DvwvnzK9_Z2nnx8Q.webp 1080w, /_astro/%E5%BE%AA%E7%8E%AF%E9%98%9F%E5%88%974.DvwvnzK9_Z2uESec.webp 1166w"></p>
<p>进（队尾添加） O(1)
出（队首出） O(1)</p>
<p>todo:</p>
<ol>
<li>使用 size 不浪费一个空间</li>
<li>浪费一个空间，不使用 size</li>
<li>新双端队列(Deque)，可以在队首和队尾添加/删除元素 addFront removeFront addLast removeLast</li>
</ol>
<p>使用栈实现队列 232
使用队列实现栈 225</p>
<h2 id="链表-linked-list">链表 linked list</h2>
<p>数据存储在“节点”(Node)中
优点：真正的动态，不需要处理固定容量的问题
缺点：丧失了随机访问的能力</p>
<p>在链表的 index (0-based) 位置添加新元素e</p>
<ol>
<li>链表最好维护了一个虚拟头节点</li>
<li>prev 节点，指向虚拟头节点，往后遍历到 index 位置，这个位置就是待插入的前一位
比如 0->1->2->3->4 在 index=2 处插入 9，即插入到 1 和 2 的中间，由于虚拟头节点存在
内部指向为 dummyHead->0->1->2->3->4, 那 prev 就是从 dummyHead 往后挪 index 位(从0开始)
prev=1
Node(9).next = prev.next 即 9->2->3->4
prev.next = Node(9) 即 dummyHead->0->1->9->2->3->4</li>
</ol>
<p>添加操作 O(n)
addLast O(n)
addFirst O(1)
add O(n/2)=O(n)
删除 O(n)
查找 O(n)</p>
<h3 id="使用链表实现栈">使用链表实现栈</h3>
<p>链表头部增删复杂度都是 O(1)</p>
<h3 id="使用链表实现队列">使用链表实现队列</h3>
<p>需要加一个尾指针 tail, 指向最后一个元素
3->2->1->0->NULL
从尾部添加元素的复杂度是 O(1)， 无法根据 tail 指针来删除（只指向后一个元素）
故队列从链表 尾部插入，头部删除，均是 O(1)
<img  loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1370px) 1370px, 100vw"  data-astro-image="constrained" width="1370" height="835" src="/_astro/%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97.DFpa39Qe_tLSpO.webp" srcset="/_astro/%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97.DFpa39Qe_2uimYO.webp 640w, /_astro/%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97.DFpa39Qe_AhY2r.webp 750w, /_astro/%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97.DFpa39Qe_Z5iMD4.webp 828w, /_astro/%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97.DFpa39Qe_nCiwp.webp 1080w, /_astro/%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97.DFpa39Qe_ZQU0J3.webp 1280w, /_astro/%E9%93%BE%E8%A1%A8%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97.DFpa39Qe_tLSpO.webp 1370w"></p>
<h3 id="反转链表">反转链表</h3>
<p>递归实现</p>
<p>reverseList(head.next) 时可以认为后面都已经反转结束了
函数返回的是反转后的头节点</p>
<p>此时 head 仍然指向的是，反转后的最末尾节点 head.next = 最末尾节点
所以，我们让反转后节点，最末尾节点的 next 指向 head 就是
(head.next).next = head</p>
<p><img  loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1191px) 1191px, 100vw"  data-astro-image="constrained" width="1191" height="902" src="/_astro/%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8%E7%9A%84%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0.B3TJaBSE_ZCCvOm.webp" srcset="/_astro/%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8%E7%9A%84%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0.B3TJaBSE_Z1MtGyB.webp 640w, /_astro/%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8%E7%9A%84%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0.B3TJaBSE_Z1rl4DN.webp 750w, /_astro/%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8%E7%9A%84%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0.B3TJaBSE_bzd2S.webp 828w, /_astro/%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8%E7%9A%84%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0.B3TJaBSE_Z1sPFLQ.webp 1080w, /_astro/%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8%E7%9A%84%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0.B3TJaBSE_ZCCvOm.webp 1191w"></p>
<h2 id="选择排序">选择排序</h2>
<p>先把最小的拿出来，放到第一个位置，然后再从剩下的里面找最小的，放到第二个位置，以此类推
原地排序</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="go"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">func</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> selectionSort</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0">T</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D6DEEB"> constraints</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D6DEEB">Ordered</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">](</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0">data</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D6DEEB">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // i 指向已处理的最后一个元素</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // j 指向还没处理的第一个元素</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // minIndex 指向未处理的最小元素</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> :=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> len</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">arr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">); </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">        minIndex</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> :=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> :=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> +</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> len</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">arr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">); </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> arr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">j</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> arr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">minIndex</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">                minIndex</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">        arr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">i</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">], </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">arr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">minIndex</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> arr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">minIndex</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">], </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">arr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">i</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<p>时间复杂度 O(n^2)</p>
<h2 id="插入排序法">插入排序法</h2>
<p>arr[0, i) 是有序的，arr[i, n) 是无序的
i 指向已经处理了的元素，从 0 开始，每次循环，把 arr[i] 插入到 arr[0, i) 的合适位置
(合适位置的计算方式： 从后往前比较，如果比前一个小，就交换位置，直到比前一个大，或者到了第一个位置)</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B"> InsertionSort</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">&#x3C;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> &#x3C;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> extends</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> Comparable</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">&#x3C;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">>> </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[] </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0">arr</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> arr</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">            E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> temp</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> arr[i];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">            int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">></span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">--</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">                if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478">temp</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">arr[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">                    E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> tmp</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> arr[j];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                    arr[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> arr[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                    arr[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> tmp;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                } </span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">else</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">                    break</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            arr[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> temp;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span>
<span class="line"></span></code></pre>
<p>优化： 交换操作改为赋值操作</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] arr</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> arr</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> temp</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> arr[i];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ></span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x26;&#x26;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> temp</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">arr[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">--</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            arr[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> arr[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        arr[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> temp;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<p>时间复杂度 O(n^2)
初始状态下，数组是有序的，那么时间复杂度是 O(n)</p>
<h2 id="归并排序">归并排序</h2>
<p>把需要排序的数组，一份为二，分别对子数组排序，然后把这两个排序后的子数组合并为一个即可
子数组的排序是同样的思路
MergeSort(arr, l, r)
对 arr 的 [l, r] 部分排序</p>
<p>MergeSort(arr, l, r) {
if (l >= r) return
int mid = (l + r) / 2;
// 对 arr[l, mid] 排序
MergeSort(arr, l, mid)
// 对 arr[mid, r] 排序
MergeSort(arr, mid, r)
// 将 arr[l, mid] 和 arr[mid, r] 合并
merge(arr, l, mid, r)
}</p>
<p><code>merge(arr, l, mid, r)</code> 的过程
当前指针如下， <code>arr[l:mid]</code> 有序， <code>arr[mid+1:r]</code> 有序
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 776px) 776px, 100vw"  data-astro-image="constrained" width="776" height="467" src="/_astro/%E5%BD%92%E5%B9%B6merge.DgJVaS_K_Z2iTLD2.webp" srcset="/_astro/%E5%BD%92%E5%B9%B6merge.DgJVaS_K_Z16u3h1.webp 640w, /_astro/%E5%BD%92%E5%B9%B6merge.DgJVaS_K_1oCoOF.webp 750w, /_astro/%E5%BD%92%E5%B9%B6merge.DgJVaS_K_Z2iTLD2.webp 776w">
复制一个新的数组 tmp
i 初始指向第一个区间的第一个元素 （i = l）
j 初始指向第二个区间的第一个元素 (j = mid+1)
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 778px) 778px, 100vw"  data-astro-image="constrained" width="778" height="577" src="/_astro/%E5%BD%92%E5%B9%B6merge2.CAEkoa_i_2opHO2.webp" srcset="/_astro/%E5%BD%92%E5%B9%B6merge2.CAEkoa_i_1RTOld.webp 640w, /_astro/%E5%BD%92%E5%B9%B6merge2.CAEkoa_i_ZzpmTS.webp 750w, /_astro/%E5%BD%92%E5%B9%B6merge2.CAEkoa_i_2opHO2.webp 778w">
把 i,j 中指向的最小的值复制到上面的数组中，对应指针+1
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 787px) 787px, 100vw"  data-astro-image="constrained" width="787" height="566" src="/_astro/%E5%BD%92%E5%B9%B6merge3.Caxqq2qn_Z2dAJCI.webp" srcset="/_astro/%E5%BD%92%E5%B9%B6merge3.Caxqq2qn_1ow6cA.webp 640w, /_astro/%E5%BD%92%E5%B9%B6merge3.Caxqq2qn_3rRmj.webp 750w, /_astro/%E5%BD%92%E5%B9%B6merge3.Caxqq2qn_Z2dAJCI.webp 787w"></p>
<p>归并的过程无法原地完成</p>
<p>算法复杂度：O(nlogn)</p>
<p>优化1: 如果 arr[mid] &#x3C; arr[mid + 1]，则说明 arr[l:mid] 和 arr[mid+1:r] 已经有序，不需要 merge</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    private</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> l</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (l </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> r) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // 下面写法是为了防止整形溢出</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">    int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> mid</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (r </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l) </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">/</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">    sort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> l</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> mid</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">    sort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> mid </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (arr[mid]</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">arr[mid </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ></span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">        // 优化1：如果 arr[mid] &#x3C; arr[mid + 1]，则说明 arr[l:mid] 和 arr[mid+1:r] 已经有序，不需要 merge</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">        merge</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> l</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> mid</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<p>对于有序的数组，归并排序的时间复杂度是 O(n)</p>
<p>优化2: 当数据规模小于 15 时，使用算法复杂度为O(n^2)的归并排序</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    private</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> insertSort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> l</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> r; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> temp</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> arr[i];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">></span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x26;&#x26;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> temp</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">arr[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">--</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            arr[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> arr[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        arr[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> temp;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">private</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> l</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (l </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> r) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // 优化2：当数据规模小于 15 时，使用算法复杂度为O(n^2)的归并排序</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (r </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 15</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">        insertSort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> l</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // 下面写法是为了防止整形溢出</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">    int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> mid</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (r </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l) </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">/</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">    sort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> l</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> mid</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">    sort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> mid </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (arr[mid]</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">arr[mid </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ></span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">        // 优化1：如果 arr[mid] &#x3C; arr[mid + 1]，则说明 arr[l:mid] 和 arr[mid+1:r] 已经有序，不需要 merge</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">        merge</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> l</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> mid</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<p>这个优化在某些解释执行语言中，可能不会有太大的提升，因为函数调用的开销比较大</p>
<p>优化3: 内存占用优化，merge 的时候，之前写法每次都开辟一个新数组，新的写法是，在初次调用的时候就创建这个数组
后续的 merge 操作，都是在这个数组上进行操作</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    private</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> merge</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> l</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> mid</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] temp</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // 把 arr 中的 l 到 r 区间的元素复制到 temp 中</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478">    System</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">arraycopy</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">arr</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> temp</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> r </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">    int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> mid </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // 每轮循环为 arr[k] 赋值</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> k</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> l; k </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> r; k</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">></span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> mid) {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">            // 左区间已经全部处理完毕</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            arr[k] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> temp[j];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        } </span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">else</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">></span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> r) {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">            // 右区间已经全部处理完毕</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            arr[k] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> temp[i];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        } </span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">else</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (temp[i]</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">temp[j]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">            // 左区间更小</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            arr[k] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> temp[i];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        } </span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">else</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">            // 右区间更小</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            arr[k] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> temp[j];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<h3 id="自底向上的归并排序">自底向上的归并排序</h3>
<ol>
<li>
<p>把每两个元素分为一组 size(sz)=1
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1152px) 1152px, 100vw"  data-astro-image="constrained" width="1152" height="318" src="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F1.DYX-Vn2w_2k5scW.webp" srcset="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F1.DYX-Vn2w_2ugPBD.webp 640w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F1.DYX-Vn2w_Z1j3GJr.webp 750w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F1.DYX-Vn2w_q4lSS.webp 828w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F1.DYX-Vn2w_Z1ymHn9.webp 1080w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F1.DYX-Vn2w_2k5scW.webp 1152w"></p>
</li>
<li>
<p>对这两个包含一个元素的有序数据进行归并排序，得到一个长度为 2 的有序数组
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1183px) 1183px, 100vw"  data-astro-image="constrained" width="1183" height="472" src="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F2.BCmzwrrY_Z12RsEt.webp" srcset="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F2.BCmzwrrY_Z1DdScO.webp 640w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F2.BCmzwrrY_10l0ry.webp 750w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F2.BCmzwrrY_Z1HakR0.webp 828w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F2.BCmzwrrY_2c23NE.webp 1080w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F2.BCmzwrrY_Z12RsEt.webp 1183w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1132px) 1132px, 100vw"  data-astro-image="constrained" width="1132" height="457" src="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F3.B-JOkDRi_Z1p92ri.webp" srcset="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F3.B-JOkDRi_Z13DkhU.webp 640w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F3.B-JOkDRi_14ob1Y.webp 750w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F3.B-JOkDRi_jowxT.webp 828w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F3.B-JOkDRi_Z29X3gW.webp 1080w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F3.B-JOkDRi_Z1p92ri.webp 1132w"></p>
</li>
<li>
<p>继续对排序后的有序数组进行归并
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1131px) 1131px, 100vw"  data-astro-image="constrained" width="1131" height="508" src="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F4.J5k_lCeC_Z25sU2G.webp" srcset="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F4.J5k_lCeC_1bsigj.webp 640w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F4.J5k_lCeC_m37ul.webp 750w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F4.J5k_lCeC_4nrYI.webp 828w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F4.J5k_lCeC_2jRx5K.webp 1080w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F4.J5k_lCeC_Z25sU2G.webp 1131w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1078px) 1078px, 100vw"  data-astro-image="constrained" width="1078" height="520" src="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F5.DxOfRHNJ_Z3I5vc.webp" srcset="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F5.DxOfRHNJ_1awP1B.webp 640w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F5.DxOfRHNJ_16xRjX.webp 750w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F5.DxOfRHNJ_Z19T8IY.webp 828w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F5.DxOfRHNJ_Z3I5vc.webp 1078w"></p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1083px) 1083px, 100vw"  data-astro-image="constrained" width="1083" height="438" src="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F6.BLsHkNPj_Zw29Xb.webp" srcset="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F6.BLsHkNPj_FsLw.webp 640w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F6.BLsHkNPj_GIEAq.webp 750w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F6.BLsHkNPj_1nIkCl.webp 828w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F6.BLsHkNPj_vT14a.webp 1080w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F6.BLsHkNPj_Zw29Xb.webp 1083w">
<img alt="img_1.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1050px) 1050px, 100vw"  data-astro-image="constrained" width="1050" height="456" src="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F7.BHuFRNFB_1Iaf2l.webp" srcset="/_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F7.BHuFRNFB_1GiKBD.webp 640w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F7.BHuFRNFB_Z2153ak.webp 750w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F7.BHuFRNFB_1ks6CY.webp 828w, /_astro/%E8%87%AA%E5%BA%95%E5%90%91%E4%B8%8A%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F7.BHuFRNFB_1Iaf2l.webp 1050w"></p>
</li>
</ol>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">// 自底向上的归并排序</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sortBU</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] arr</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">    E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[] </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">temp</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> Arrays</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">copyOf</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">arr</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> arr</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">    int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> n</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> arr</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // 遍历合并的区间长度</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> sz</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; sz </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> n; sz </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> sz) {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">        // 遍历合并的两个区间的起始位置 i</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">        // 合并 [i, i+sz-1] 和 [i+sz, i+sz+sz-1]</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> sz </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> n; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> sz </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> sz) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (arr[i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> sz </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">arr[i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> sz]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ></span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">                // 当前面的区间大于后面时，才执行归并操作，否则就已经是有序的了</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">                int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> r</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> Math</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">min</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> sz </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> sz </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> n </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">                merge</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">arr</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> i</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> sz </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> r</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> temp</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span>
<span class="line"></span></code></pre>
<h3 id="lcr-170-交易逆序对的总数"><a href="https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/">LCR 170. 交易逆序对的总数</a></h3>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1106px) 1106px, 100vw"  data-astro-image="constrained" width="1106" height="848" src="/_astro/%E9%80%86%E5%BA%8F%E5%AF%B91.CBd70WJf_2vW704.webp" srcset="/_astro/%E9%80%86%E5%BA%8F%E5%AF%B91.CBd70WJf_Z1XKqAI.webp 640w, /_astro/%E9%80%86%E5%BA%8F%E5%AF%B91.CBd70WJf_ZFvnD1.webp 750w, /_astro/%E9%80%86%E5%BA%8F%E5%AF%B91.CBd70WJf_Z2hXmn5.webp 828w, /_astro/%E9%80%86%E5%BA%8F%E5%AF%B91.CBd70WJf_1N6euN.webp 1080w, /_astro/%E9%80%86%E5%BA%8F%E5%AF%B91.CBd70WJf_2vW704.webp 1106w">
<img alt="img_1.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1153px) 1153px, 100vw"  data-astro-image="constrained" width="1153" height="861" src="/_astro/%E9%80%86%E5%BA%8F%E5%AF%B92.ChniqTAu_pmnOb.webp" srcset="/_astro/%E9%80%86%E5%BA%8F%E5%AF%B92.ChniqTAu_Z1nXuJd.webp 640w, /_astro/%E9%80%86%E5%BA%8F%E5%AF%B92.ChniqTAu_ZOMGnO.webp 750w, /_astro/%E9%80%86%E5%BA%8F%E5%AF%B92.ChniqTAu_zTyPS.webp 828w, /_astro/%E9%80%86%E5%BA%8F%E5%AF%B92.ChniqTAu_2clYHR.webp 1080w, /_astro/%E9%80%86%E5%BA%8F%E5%AF%B92.ChniqTAu_pmnOb.webp 1153w"></p>
<h2 id="快速排序">快速排序</h2>
<p>选择数组<code>[l, r]</code>第一个元素 v 作为标定点，
执行 <code>int p = partition(arr, l, r)</code> 函数
把数组分为三部分，左边为小于 v, 中间为 v, 右边大于 v(暂时不考虑等于v)
返回值的 p 是一个索引，对应 v 标定点所在位置
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1291px) 1291px, 100vw"  data-astro-image="constrained" width="1291" height="855" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.C_xMnb0-_Z1fqGoa.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.C_xMnb0-_Z262MJs.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.C_xMnb0-_Z1frB5y.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.C_xMnb0-_1mBJ6x.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.C_xMnb0-_5089L.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.C_xMnb0-_Zl4tFb.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.C_xMnb0-_Z1fqGoa.webp 1291w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1549px) 1549px, 100vw"  data-astro-image="constrained" width="1549" height="884" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.CCT8eM-J_QcR5q.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.CCT8eM-J_1aLA2v.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.CCT8eM-J_1litVx.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.CCT8eM-J_28MyxE.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.CCT8eM-J_ZXV0A5.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.CCT8eM-J_Z3R2Ui.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.CCT8eM-J_QcR5q.webp 1549w"></p>
<h3 id="计算-partition">计算 partition</h3>
<p><img alt="img_1.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1370px) 1370px, 100vw"  data-astro-image="constrained" width="1370" height="525" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.DLuGwYbV_2grU9s.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.DLuGwYbV_Z1kWQxg.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.DLuGwYbV_Zo8OYo.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.DLuGwYbV_ZeYYqG.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.DLuGwYbV_ZsUi16.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.DLuGwYbV_10saLK.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.DLuGwYbV_2grU9s.webp 1370w"></p>
<h4 id="如果允许开辟空间">如果允许开辟空间</h4>
<p>使用额外两个数组，小于 v 放 left， 大于 v 放 right，就完成了
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1235px) 1235px, 100vw"  data-astro-image="constrained" width="1235" height="812" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F4.Cj9xfqp8_YPdAY.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F4.Cj9xfqp8_Z29qPs7.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F4.Cj9xfqp8_1ejs5x.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F4.Cj9xfqp8_Z1dNkwi.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F4.Cj9xfqp8_Z1z6HJL.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F4.Cj9xfqp8_YPdAY.webp 1235w"></p>
<h4 id="原地排序">原地排序</h4>
<p>取第一个元素v， j 指向小于 v 和大于 v 所在位置的索引
i指向未整理的最近一个元素
<img alt="img_2.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1426px) 1426px, 100vw"  data-astro-image="constrained" width="1426" height="783" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F5.a50i6wEg_ZzoPpt.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F5.a50i6wEg_Z5fy8G.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F5.a50i6wEg_5opIU.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F5.a50i6wEg_Z1CFCOP.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F5.a50i6wEg_A6Yhw.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F5.a50i6wEg_LsU5K.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F5.a50i6wEg_ZzoPpt.webp 1426w"></p>
<p>如果 i 指向的元素 e 大于 v, i++ 即可，它就处于 <code>> v</code> 的区间中
<img alt="img_3.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1453px) 1453px, 100vw"  data-astro-image="constrained" width="1453" height="849" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F6.IUB5mIpq_14g9tY.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F6.IUB5mIpq_Nks6u.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F6.IUB5mIpq_Z1yiJSe.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F6.IUB5mIpq_1LdlD4.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F6.IUB5mIpq_ZzEOen.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F6.IUB5mIpq_VlSTu.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F6.IUB5mIpq_14g9tY.webp 1453w"></p>
<p>如果 e&#x3C;v, 那么让 j+1 和 i 指向元素互换即可
<img alt="img_4.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1433px) 1433px, 100vw"  data-astro-image="constrained" width="1433" height="859" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F7.CEgw2UyX_TydPl.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F7.CEgw2UyX_t8HUQ.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F7.CEgw2UyX_C4D70.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F7.CEgw2UyX_1qSwtQ.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F7.CEgw2UyX_ZRy4OG.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F7.CEgw2UyX_Z9NGYg.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F7.CEgw2UyX_TydPl.webp 1433w"></p>
<p>最后，将 l, 和 j 指向元素交换即可
<img alt="img_5.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1502px) 1502px, 100vw"  data-astro-image="constrained" width="1502" height="830" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F8.7qlZlsYi_ZWAsgw.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F8.7qlZlsYi_J3Xmg.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F8.7qlZlsYi_Z1Cj4Fj.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F8.7qlZlsYi_ZNm6jS.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F8.7qlZlsYi_Z1P6xC2.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F8.7qlZlsYi_Z1DJBNN.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F8.7qlZlsYi_ZWAsgw.webp 1502w"></p>
<h3 id="存在的问题">存在的问题</h3>
<h4 id="完全有序的情况">完全有序的情况</h4>
<p>对于完全有序的数组，每次都会对少一个元素的有序数组进行递归，时间复杂度 O(n^2), 递归深度 O(n)
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1595px) 1595px, 100vw"  data-astro-image="constrained" width="1595" height="910" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F9.BNFjDFHl_1llBI6.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F9.BNFjDFHl_1EqtPt.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F9.BNFjDFHl_1OWnJv.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F9.BNFjDFHl_5pqqr.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F9.BNFjDFHl_Z1afA9T.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F9.BNFjDFHl_ZfbCu7.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F9.BNFjDFHl_1llBI6.webp 1595w"></p>
<p>解决方案：</p>
<p>不使用第一个元素作为标记点，随机选择一个元素，然后和第一个元素交换即可</p>
<h4 id="完全相等的情况">完全相等的情况</h4>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1457px) 1457px, 100vw"  data-astro-image="constrained" width="1457" height="683" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F10.D3EFriGQ_i3RRc.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F10.D3EFriGQ_20aUk0.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F10.D3EFriGQ_l2Cdd.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F10.D3EFriGQ_vgGQn.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F10.D3EFriGQ_Z1hXybP.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F10.D3EFriGQ_Z1Eefrb.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F10.D3EFriGQ_i3RRc.webp 1457w"></p>
<p>会和上面一样，时间复杂度 O(n^2)
解决方案：
双路快速排序</p>
<h2 id="双路快速排序">双路快速排序</h2>
<p>v 为标定点，左边的元素存放小于 v 的元素，右边的元素存放大于 v 的元素
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1438px) 1438px, 100vw"  data-astro-image="constrained" width="1438" height="774" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F11.BnJqYNqi_21m9Pi.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F11.BnJqYNqi_1BAVJ6.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F11.BnJqYNqi_2u4t9r.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F11.BnJqYNqi_ZMeEjY.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F11.BnJqYNqi_1sIQHQ.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F11.BnJqYNqi_1JPMcy.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F11.BnJqYNqi_21m9Pi.webp 1438w"></p>
<p>i 从 l 开始扫描，所有遇到小于等于 v 的元素，i++,直到遇到大于 v 的元素
j 从 r 开始扫描，所有遇到大等于于 v 的元素，j—,直到遇到小于 v 的元素
<img alt="img_1.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1438px) 1438px, 100vw"  data-astro-image="constrained" width="1438" height="783" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F12.6zZ5mhqP_2iT9HU.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F12.6zZ5mhqP_Z1gzEPp.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F12.6zZ5mhqP_Zo78q4.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F12.6zZ5mhqP_EA2RM.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F12.6zZ5mhqP_Z2cEiMD.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F12.6zZ5mhqP_wVTVp.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F12.6zZ5mhqP_2iT9HU.webp 1438w"></p>
<p>然后把这两个元素交换位置，这样，l 到 i 都是小于 v 的元素，j 到 r 都是大于 v 的元素，然后 i++, j— 继续扫描
<img alt="img_2.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1405px) 1405px, 100vw"  data-astro-image="constrained" width="1405" height="807" src="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F13.D41BAUDA_OPbpw.webp" srcset="/_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F13.D41BAUDA_Z104UeU.webp 640w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F13.D41BAUDA_ZUSJ81.webp 750w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F13.D41BAUDA_Z1LgABE.webp 828w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F13.D41BAUDA_aTQ1v.webp 1080w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F13.D41BAUDA_1JL0Yj.webp 1280w, /_astro/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F13.D41BAUDA_OPbpw.webp 1405w"></p>
<p>最坏情况下，时间复杂度 O(n^2)，概率很小
平均情况下，时间复杂度 O(nlogn)</p>
<h2 id="三路快速排序">三路快速排序</h2>
<p>对于元素都相同的情况，可以不用再次排序
三路排序在排序过程中，把数组划分为了三部分，小于 v，等于 v，大于 v</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1432px) 1432px, 100vw"  data-astro-image="constrained" width="1432" height="752" src="/_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.hke4u4XM_ZWgmOi.webp" srcset="/_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.hke4u4XM_Z1QK9LR.webp 640w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.hke4u4XM_qHuxs.webp 750w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.hke4u4XM_7nDvw.webp 828w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.hke4u4XM_247C6y.webp 1080w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.hke4u4XM_12Q5P7.webp 1280w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F1.hke4u4XM_ZWgmOi.webp 1432w">
<img alt="img_1.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1454px) 1454px, 100vw"  data-astro-image="constrained" width="1454" height="811" src="/_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.LzgYwuyA_2rNboU.webp" srcset="/_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.LzgYwuyA_Z1Skyts.webp 640w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.LzgYwuyA_ZFc26z.webp 750w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.LzgYwuyA_Z6SnPJ.webp 828w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.LzgYwuyA_ZhuFic.webp 1080w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.LzgYwuyA_Z1sUoKf.webp 1280w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F2.LzgYwuyA_2rNboU.webp 1454w">
对于元素 e, 如果 等于 v, 那么直接划入等于 v 的部分，i++
如果 e &#x3C; v, 那么和等于 v 的第一个元素交换位置，i++, lt++
如果 e > v, 那么和大于 v 前的第一个元素交换位置，gt—
终止条件，i >= gt
最后，把 l 和 lt 位置的元素交换位置
<img alt="img_2.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1470px) 1470px, 100vw"  data-astro-image="constrained" width="1470" height="864" src="/_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.B66PtT9L_liVX8.webp" srcset="/_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.B66PtT9L_Z21DqkP.webp 640w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.B66PtT9L_146QSL.webp 750w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.B66PtT9L_Z1pWjtm.webp 828w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.B66PtT9L_ZfDo2Y.webp 1080w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.B66PtT9L_1yMNmw.webp 1280w, /_astro/%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F3.B66PtT9L_liVX8.webp 1470w"></p>
<p>速度对比</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="text"><code><span class="line"><span>Random Array:</span></span>
<span class="line"><span>MergeSort, n = 1000000 : 0.429069 s</span></span>
<span class="line"><span>QuickSort, n = 1000000 : 0.257638 s</span></span>
<span class="line"><span>QuickSort2Ways, n = 1000000 : 0.209404 s</span></span>
<span class="line"><span>QuickSort3Ways, n = 1000000 : 0.400175 s</span></span>
<span class="line"><span>Ordered Array:</span></span>
<span class="line"><span>MergeSort, n = 1000000 : 0.003160 s</span></span>
<span class="line"><span>QuickSort, n = 1000000 : 0.189545 s</span></span>
<span class="line"><span>QuickSort2Ways, n = 1000000 : 0.050844 s</span></span>
<span class="line"><span>QuickSort3Ways, n = 1000000 : 0.382524 s</span></span>
<span class="line"><span>Save value Array:</span></span>
<span class="line"><span>MergeSort, n = 1000000 : 0.002958 s</span></span>
<span class="line"><span>QuickSort2Ways, n = 1000000 : 0.148120 s</span></span>
<span class="line"><span>QuickSort3Ways, n = 1000000 : 0.001708 s</span></span></code></pre>
<p><a href="https://leetcode.com/problems/sort-colors/description/">75.颜色分类</a></p>
<p>使用三路快速排序解决</p>
<p>Select K 问题
给出一个无序数组，找出数组的第，k 小的元素
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1086px) 1086px, 100vw"  data-astro-image="constrained" width="1086" height="652" src="/_astro/Select_K%E9%97%AE%E9%A2%98.DqLCUQmA_ZDC9Yw.webp" srcset="/_astro/Select_K%E9%97%AE%E9%A2%98.DqLCUQmA_2fmwlX.webp 640w, /_astro/Select_K%E9%97%AE%E9%A2%98.DqLCUQmA_4aXhd.webp 750w, /_astro/Select_K%E9%97%AE%E9%A2%98.DqLCUQmA_zXlST.webp 828w, /_astro/Select_K%E9%97%AE%E9%A2%98.DqLCUQmA_yFias.webp 1080w, /_astro/Select_K%E9%97%AE%E9%A2%98.DqLCUQmA_ZDC9Yw.webp 1086w"></p>
<p>经过一轮 partition 后，我们可以获得，小于标定点的元素，和大于标定点的元素，
标定点此时在数组中的位置是确定的
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1315px) 1315px, 100vw"  data-astro-image="constrained" width="1315" height="791" src="/_astro/Select_K%E9%97%AE%E9%A2%982.DVA40iPo_pIlzk.webp" srcset="/_astro/Select_K%E9%97%AE%E9%A2%982.DVA40iPo_Z1GoSgN.webp 640w, /_astro/Select_K%E9%97%AE%E9%A2%982.DVA40iPo_ZdigLY.webp 750w, /_astro/Select_K%E9%97%AE%E9%A2%982.DVA40iPo_2s0kaJ.webp 828w, /_astro/Select_K%E9%97%AE%E9%A2%982.DVA40iPo_13YC0W.webp 1080w, /_astro/Select_K%E9%97%AE%E9%A2%982.DVA40iPo_ZkbqyO.webp 1280w, /_astro/Select_K%E9%97%AE%E9%A2%982.DVA40iPo_pIlzk.webp 1315w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1301px) 1301px, 100vw"  data-astro-image="constrained" width="1301" height="821" src="/_astro/Select_K%E9%97%AE%E9%A2%983.Cy_NJuS3_2fYJ3W.webp" srcset="/_astro/Select_K%E9%97%AE%E9%A2%983.Cy_NJuS3_Z1f8oxe.webp 640w, /_astro/Select_K%E9%97%AE%E9%A2%983.Cy_NJuS3_2t6VMH.webp 750w, /_astro/Select_K%E9%97%AE%E9%A2%983.Cy_NJuS3_Z2tyjB0.webp 828w, /_astro/Select_K%E9%97%AE%E9%A2%983.Cy_NJuS3_Z5eziW.webp 1080w, /_astro/Select_K%E9%97%AE%E9%A2%983.Cy_NJuS3_Z1rgXu7.webp 1280w, /_astro/Select_K%E9%97%AE%E9%A2%983.Cy_NJuS3_2fYJ3W.webp 1301w"></p>
<p>类似的题目，<a href="https://leetcode.com/problems/kth-largest-element-in-an-array/description/">数组中第 k 个最大的元素</a>
<a href="https://leetcode.cn/problems/smallest-k-lcci/description/">最小的k个数</a></p>
<h2 id="二分查找">二分查找</h2>
<p>算法复杂度O(logn)
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1338px) 1338px, 100vw"  data-astro-image="constrained" width="1338" height="811" src="/_astro/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE1.CYMGoNf-_Z2naVjB.webp" srcset="/_astro/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE1.CYMGoNf-_1oKnnt.webp 640w, /_astro/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE1.CYMGoNf-_ZYsNk8.webp 750w, /_astro/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE1.CYMGoNf-_1CQGO7.webp 828w, /_astro/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE1.CYMGoNf-_ZTPUIQ.webp 1080w, /_astro/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE1.CYMGoNf-_2iVfn9.webp 1280w, /_astro/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE1.CYMGoNf-_Z2naVjB.webp 1338w"></p>
<h2 id="二分查找法变种upper">二分查找法变种：upper</h2>
<p>查找大于 target 的最小值</p>
<h2 id="二分查找法变种ceil">二分查找法变种：ceil</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1293px) 1293px, 100vw"  data-astro-image="constrained" width="1293" height="797" src="/_astro/ceil.BnjpxAOy_PvhFU.webp" srcset="/_astro/ceil.BnjpxAOy_Z29oRCI.webp 640w, /_astro/ceil.BnjpxAOy_2W8Wu.webp 750w, /_astro/ceil.BnjpxAOy_27Hhip.webp 828w, /_astro/ceil.BnjpxAOy_2o1Ysi.webp 1080w, /_astro/ceil.BnjpxAOy_Z1GUV4D.webp 1280w, /_astro/ceil.BnjpxAOy_PvhFU.webp 1293w"></p>
<h2 id="二分查找法变种lower_ceil">二分查找法变种：lower_ceil</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1311px) 1311px, 100vw"  data-astro-image="constrained" width="1311" height="782" src="/_astro/lower_ceil.DdHX3SpA_1boP4f.webp" srcset="/_astro/lower_ceil.DdHX3SpA_aSXYh.webp 640w, /_astro/lower_ceil.DdHX3SpA_LVm7N.webp 750w, /_astro/lower_ceil.DdHX3SpA_ZqlMQn.webp 828w, /_astro/lower_ceil.DdHX3SpA_1tGkEw.webp 1080w, /_astro/lower_ceil.DdHX3SpA_Z1Lc09a.webp 1280w, /_astro/lower_ceil.DdHX3SpA_1boP4f.webp 1311w"></p>
<h2 id="二分查找法变种lower">二分查找法变种：lower</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1406px) 1406px, 100vw"  data-astro-image="constrained" width="1406" height="866" src="/_astro/lower.C1fZOeVi_1EIFaG.webp" srcset="/_astro/lower.C1fZOeVi_pC47b.webp 640w, /_astro/lower.C1fZOeVi_ypTjK.webp 750w, /_astro/lower.C1fZOeVi_DAizf.webp 828w, /_astro/lower.C1fZOeVi_Z165TDX.webp 1080w, /_astro/lower.C1fZOeVi_23zJbf.webp 1280w, /_astro/lower.C1fZOeVi_1EIFaG.webp 1406w"></p>
<h2 id="二分查找法变种lower_floor">二分查找法变种：lower_floor</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1325px) 1325px, 100vw"  data-astro-image="constrained" width="1325" height="776" src="/_astro/lower_floor.C2WigbOv_1L5gK.webp" srcset="/_astro/lower_floor.C2WigbOv_2wgU07.webp 640w, /_astro/lower_floor.C2WigbOv_13W8AQ.webp 750w, /_astro/lower_floor.C2WigbOv_Z2jGSGQ.webp 828w, /_astro/lower_floor.C2WigbOv_Z2q0ija.webp 1080w, /_astro/lower_floor.C2WigbOv_1JJD6D.webp 1280w, /_astro/lower_floor.C2WigbOv_1L5gK.webp 1325w"></p>
<h2 id="二分查找法变种upper_floor">二分查找法变种：upper_floor</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1303px) 1303px, 100vw"  data-astro-image="constrained" width="1303" height="822" src="/_astro/upper_floor.B6HCboMX_h7g71.webp" srcset="/_astro/upper_floor.B6HCboMX_Z1G4g0M.webp 640w, /_astro/upper_floor.B6HCboMX_22b5k9.webp 750w, /_astro/upper_floor.B6HCboMX_ZPq2Xs.webp 828w, /_astro/upper_floor.B6HCboMX_Z31yTw.webp 1080w, /_astro/upper_floor.B6HCboMX_Z1p3X5G.webp 1280w, /_astro/upper_floor.B6HCboMX_h7g71.webp 1303w"></p>
<h2 id="二分搜索树">二分搜索树</h2>
<p>定义：</p>
<ul>
<li>二分搜索树是二叉树</li>
<li>二分搜索树的每个节点的值：
<ul>
<li>大于起左子树所有节点的值</li>
<li>小于起右子树所有节点的值</li>
</ul>
</li>
<li>每一颗子树也是二分搜索树</li>
</ul>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1606px) 1606px, 100vw"  data-astro-image="constrained" width="1606" height="856" src="/_astro/binary_search_tree.Bt_EeM51_kJqwU.webp" srcset="/_astro/binary_search_tree.Bt_EeM51_1uu6N9.webp 640w, /_astro/binary_search_tree.Bt_EeM51_Z27uchT.webp 750w, /_astro/binary_search_tree.Bt_EeM51_Zt1RB8.webp 828w, /_astro/binary_search_tree.Bt_EeM51_Z14Ry4y.webp 1080w, /_astro/binary_search_tree.Bt_EeM51_2n9JrG.webp 1280w, /_astro/binary_search_tree.Bt_EeM51_kJqwU.webp 1606w"></p>
<h3 id="二分搜索树遍历">二分搜索树遍历</h3>
<p><strong>前序遍历</strong></p>
<p>访问的节点在左右子树的前面</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1582px) 1582px, 100vw"  data-astro-image="constrained" width="1582" height="867" src="/_astro/traverse_left.DNWY4aGg_Z2ukTJb.webp" srcset="/_astro/traverse_left.DNWY4aGg_1oNicX.webp 640w, /_astro/traverse_left.DNWY4aGg_245kAV.webp 750w, /_astro/traverse_left.DNWY4aGg_E7OYa.webp 828w, /_astro/traverse_left.DNWY4aGg_1vSDKm.webp 1080w, /_astro/traverse_left.DNWY4aGg_2tMTeN.webp 1280w, /_astro/traverse_left.DNWY4aGg_Z2ukTJb.webp 1582w"></p>
<p><strong>中序遍历</strong>： 先左，后节点，最后右边， 这个输出结果就是从小到大排序结果</p>
<p><strong>后序遍历</strong>
应用：为二分搜索树释放内存</p>
<p>前序遍历的非递归写法：</p>
<p>先把要访问的节点压入栈，然后弹出访问其，然后分别压入右左子节点，继续弹出访问并压入右左子节点</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1514px) 1514px, 100vw"  data-astro-image="constrained" width="1514" height="873" src="/_astro/traverse_left2.C5m1B1x1_Z1LRMNs.webp" srcset="/_astro/traverse_left2.C5m1B1x1_Z29UuBj.webp 640w, /_astro/traverse_left2.C5m1B1x1_1cLXUn.webp 750w, /_astro/traverse_left2.C5m1B1x1_1gsnra.webp 828w, /_astro/traverse_left2.C5m1B1x1_Z1swnVK.webp 1080w, /_astro/traverse_left2.C5m1B1x1_Z2fcPX5.webp 1280w, /_astro/traverse_left2.C5m1B1x1_Z1LRMNs.webp 1514w"></p>
<h3 id="二分搜索树的层序遍历">二分搜索树的层序遍历</h3>
<p>一个队列，先入队中间节点，弹出，然后分别入队其左右节点，继续弹出后入队其左右节点</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1480px) 1480px, 100vw"  data-astro-image="constrained" width="1480" height="855" src="/_astro/traverse2.CgSpADhM_2jIKQk.webp" srcset="/_astro/traverse2.CgSpADhM_10pY3P.webp 640w, /_astro/traverse2.CgSpADhM_Z1ClKBt.webp 750w, /_astro/traverse2.CgSpADhM_2kstk2.webp 828w, /_astro/traverse2.CgSpADhM_2lGS79.webp 1080w, /_astro/traverse2.CgSpADhM_Z1lmldy.webp 1280w, /_astro/traverse2.CgSpADhM_2jIKQk.webp 1480w"></p>
<p>即广度优先遍历，优点</p>
<ul>
<li>更快的找到问题的解</li>
<li>常用于算法设计中-最短路径</li>
<li>图中的深度优先遍历和广度优先遍历</li>
</ul>
<h3 id="二分搜索树的删除任意节点">二分搜索树的删除任意节点</h3>
<p>如果待删除节点左子树为空，那么它的上一个节点指向它的右子树即可
如果待删除节点右子树为空，那么它的上一个节点指向它的左子树即可</p>
<p>如果待删除节点 d 左右子节点都在，遵循如下方法：</p>
<ol>
<li>找到比待删除节点大的最小节点，即待删除节点右子树的最小节点 s = min(d->right)</li>
<li>s 是 d 的后继</li>
<li>s->right = delMin(d.right)</li>
<li>s->left = d->left</li>
</ol>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1470px) 1470px, 100vw"  data-astro-image="constrained" width="1470" height="851" src="/_astro/delete_node1.CWXWO2-8_EhHDx.webp" srcset="/_astro/delete_node1.CWXWO2-8_Z1AybeB.webp 640w, /_astro/delete_node1.CWXWO2-8_i5jvC.webp 750w, /_astro/delete_node1.CWXWO2-8_CGir1.webp 828w, /_astro/delete_node1.CWXWO2-8_ZdAMkL.webp 1080w, /_astro/delete_node1.CWXWO2-8_Z1E6VPY.webp 1280w, /_astro/delete_node1.CWXWO2-8_EhHDx.webp 1470w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1492px) 1492px, 100vw"  data-astro-image="constrained" width="1492" height="855" src="/_astro/delete_node2.BomhPCe7_Z1rjCPz.webp" srcset="/_astro/delete_node2.BomhPCe7_ZvcRwh.webp 640w, /_astro/delete_node2.BomhPCe7_Z21Hm6w.webp 750w, /_astro/delete_node2.BomhPCe7_1QB05H.webp 828w, /_astro/delete_node2.BomhPCe7_ZuCQ8u.webp 1080w, /_astro/delete_node2.BomhPCe7_1oHLHA.webp 1280w, /_astro/delete_node2.BomhPCe7_Z1rjCPz.webp 1492w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1502px) 1502px, 100vw"  data-astro-image="constrained" width="1502" height="866" src="/_astro/delete_node3.DK3gQqiT_1VWGLc.webp" srcset="/_astro/delete_node3.DK3gQqiT_vcDpE.webp 640w, /_astro/delete_node3.DK3gQqiT_Z10hP9A.webp 750w, /_astro/delete_node3.DK3gQqiT_ZEFQec.webp 828w, /_astro/delete_node3.DK3gQqiT_7drg6.webp 1080w, /_astro/delete_node3.DK3gQqiT_10WHki.webp 1280w, /_astro/delete_node3.DK3gQqiT_1VWGLc.webp 1502w"></p>
<p>当然，这个节点 s 也可以是左子树中最大的节点 p，p = max(d->left)
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1495px) 1495px, 100vw"  data-astro-image="constrained" width="1495" height="844" src="/_astro/delete_node4.CXKWW9XX_ZzwDp4.webp" srcset="/_astro/delete_node4.CXKWW9XX_Z1DquF3.webp 640w, /_astro/delete_node4.CXKWW9XX_Z1hgKrU.webp 750w, /_astro/delete_node4.CXKWW9XX_Z2t9x4C.webp 828w, /_astro/delete_node4.CXKWW9XX_ZdX8oO.webp 1080w, /_astro/delete_node4.CXKWW9XX_2giyz2.webp 1280w, /_astro/delete_node4.CXKWW9XX_ZzwDp4.webp 1495w"></p>
<h2 id="集合和映射-set-and-map">集合和映射 set and map</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1357px) 1357px, 100vw"  data-astro-image="constrained" width="1357" height="818" src="/_astro/set.CTNPZ1no_1787W4.webp" srcset="/_astro/set.CTNPZ1no_ZnfmtW.webp 640w, /_astro/set.CTNPZ1no_ZGFGLT.webp 750w, /_astro/set.CTNPZ1no_Z11dcAJ.webp 828w, /_astro/set.CTNPZ1no_28zNsH.webp 1080w, /_astro/set.CTNPZ1no_15sWD0.webp 1280w, /_astro/set.CTNPZ1no_1787W4.webp 1357w"></p>
<p>二分搜索树集合和链表集合的时间复杂度分析
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1320px) 1320px, 100vw"  data-astro-image="constrained" width="1320" height="795" src="/_astro/%E9%9B%86%E5%90%88%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.AJQVjHhE_Xpc5t.webp" srcset="/_astro/%E9%9B%86%E5%90%88%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.AJQVjHhE_Z1bDBDI.webp 640w, /_astro/%E9%9B%86%E5%90%88%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.AJQVjHhE_Edzt3.webp 750w, /_astro/%E9%9B%86%E5%90%88%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.AJQVjHhE_1b0X5J.webp 828w, /_astro/%E9%9B%86%E5%90%88%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.AJQVjHhE_yz8aY.webp 1080w, /_astro/%E9%9B%86%E5%90%88%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.AJQVjHhE_iNN58.webp 1280w, /_astro/%E9%9B%86%E5%90%88%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.AJQVjHhE_Xpc5t.webp 1320w"></p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1160px) 1160px, 100vw"  data-astro-image="constrained" width="1160" height="589" src="/_astro/%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E5%92%8C%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88.CizUw4-N_fgP7d.webp" srcset="/_astro/%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E5%92%8C%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88.CizUw4-N_xoSUh.webp 640w, /_astro/%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E5%92%8C%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88.CizUw4-N_ZgNf4i.webp 750w, /_astro/%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E5%92%8C%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88.CizUw4-N_Z1BNjWI.webp 828w, /_astro/%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E5%92%8C%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88.CizUw4-N_Z1vFiKP.webp 1080w, /_astro/%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88%E5%92%8C%E6%97%A0%E5%BA%8F%E9%9B%86%E5%90%88.CizUw4-N_fgP7d.webp 1160w"></p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1396px) 1396px, 100vw"  data-astro-image="constrained" width="1396" height="826" src="/_astro/%E6%98%A0%E5%B0%84%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.B6leEtg8_ZA0m5P.webp" srcset="/_astro/%E6%98%A0%E5%B0%84%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.B6leEtg8_1pg2cM.webp 640w, /_astro/%E6%98%A0%E5%B0%84%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.B6leEtg8_hcQJr.webp 750w, /_astro/%E6%98%A0%E5%B0%84%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.B6leEtg8_735mF.webp 828w, /_astro/%E6%98%A0%E5%B0%84%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.B6leEtg8_Z1NK3CV.webp 1080w, /_astro/%E6%98%A0%E5%B0%84%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.B6leEtg8_ZTv8fq.webp 1280w, /_astro/%E6%98%A0%E5%B0%84%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.B6leEtg8_ZA0m5P.webp 1396w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1157px) 1157px, 100vw"  data-astro-image="constrained" width="1157" height="595" src="/_astro/%E6%9C%89%E5%BA%8F%E6%98%A0%E5%B0%84%E5%92%8C%E6%97%A0%E5%BA%8F%E6%98%A0%E5%B0%84.C1XoStmT_14ycVO.webp" srcset="/_astro/%E6%9C%89%E5%BA%8F%E6%98%A0%E5%B0%84%E5%92%8C%E6%97%A0%E5%BA%8F%E6%98%A0%E5%B0%84.C1XoStmT_Z1gqwpv.webp 640w, /_astro/%E6%9C%89%E5%BA%8F%E6%98%A0%E5%B0%84%E5%92%8C%E6%97%A0%E5%BA%8F%E6%98%A0%E5%B0%84.C1XoStmT_ZDElT5.webp 750w, /_astro/%E6%9C%89%E5%BA%8F%E6%98%A0%E5%B0%84%E5%92%8C%E6%97%A0%E5%BA%8F%E6%98%A0%E5%B0%84.C1XoStmT_ZxF7hv.webp 828w, /_astro/%E6%9C%89%E5%BA%8F%E6%98%A0%E5%B0%84%E5%92%8C%E6%97%A0%E5%BA%8F%E6%98%A0%E5%B0%84.C1XoStmT_Z1HUEW7.webp 1080w, /_astro/%E6%9C%89%E5%BA%8F%E6%98%A0%E5%B0%84%E5%92%8C%E6%97%A0%E5%BA%8F%E6%98%A0%E5%B0%84.C1XoStmT_14ycVO.webp 1157w"></p>
<h2 id="优先队列">优先队列</h2>
<p>什么是优先队列？
普通队列：先进先出，后进后出
优先队列：出队顺序和入队顺序无关；和优先级有关</p>
<p>应用： 操作系统时间片调度
特点：队列中元素动态变化，动态优先级</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1270px) 1270px, 100vw"  data-astro-image="constrained" width="1270" height="780" src="/_astro/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97.zhGrKz4F_Z2svStG.webp" srcset="/_astro/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97.zhGrKz4F_Z11NM0D.webp 640w, /_astro/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97.zhGrKz4F_1axezz.webp 750w, /_astro/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97.zhGrKz4F_3dsT6.webp 828w, /_astro/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97.zhGrKz4F_1E6U3R.webp 1080w, /_astro/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97.zhGrKz4F_Z2svStG.webp 1270w"></p>
<h2 id="堆">堆</h2>
<h3 id="堆的性质">堆的性质</h3>
<p>二叉堆是一棵完全二叉树（缺失的节点一定在右下侧）
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1478px) 1478px, 100vw"  data-astro-image="constrained" width="1478" height="835" src="/_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%98%AF%E4%B8%80%E6%A3%B5%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91.B1wbPpNH_1iwoEu.webp" srcset="/_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%98%AF%E4%B8%80%E6%A3%B5%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91.B1wbPpNH_1vk46W.webp 640w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%98%AF%E4%B8%80%E6%A3%B5%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91.B1wbPpNH_ZR3zT3.webp 750w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%98%AF%E4%B8%80%E6%A3%B5%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91.B1wbPpNH_Z26VRgT.webp 828w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%98%AF%E4%B8%80%E6%A3%B5%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91.B1wbPpNH_Z3l0yl.webp 1080w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%98%AF%E4%B8%80%E6%A3%B5%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91.B1wbPpNH_1oAR1x.webp 1280w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%98%AF%E4%B8%80%E6%A3%B5%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91.B1wbPpNH_1iwoEu.webp 1478w"></p>
<p>堆中的某个节点总是不大于其父节点的值（最大堆） （节点的值大于等于其子节点的值）
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1506px) 1506px, 100vw"  data-astro-image="constrained" width="1506" height="834" src="/_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%80%A7%E8%B4%A8.BOm8kPYv_ZjNlLi.webp" srcset="/_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%80%A7%E8%B4%A8.BOm8kPYv_1zASEH.webp 640w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%80%A7%E8%B4%A8.BOm8kPYv_1KfRxj.webp 750w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%80%A7%E8%B4%A8.BOm8kPYv_Z2uYhUc.webp 828w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%80%A7%E8%B4%A8.BOm8kPYv_1qF8UA.webp 1080w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%80%A7%E8%B4%A8.BOm8kPYv_ZW7fNx.webp 1280w, /_astro/%E4%BA%8C%E5%8F%89%E5%A0%86%E6%80%A7%E8%B4%A8.BOm8kPYv_ZjNlLi.webp 1506w"></p>
<h3 id="计算公式">计算公式</h3>
<p>用数组存储二叉堆
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1622px) 1622px, 100vw"  data-astro-image="constrained" width="1622" height="848" src="/_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%86.Dv6WJI-o_ZO8W76.webp" srcset="/_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%86.Dv6WJI-o_2qvQnP.webp 640w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%86.Dv6WJI-o_Z6msnr.webp 750w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%86.Dv6WJI-o_21fpwD.webp 828w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%86.Dv6WJI-o_Z21iHl2.webp 1080w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%86.Dv6WJI-o_Z1jpCVI.webp 1280w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%86.Dv6WJI-o_ZO8W76.webp 1622w">
数组下标从0开始
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1622px) 1622px, 100vw"  data-astro-image="constrained" width="1622" height="845" src="/_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%862.Clr3WAL-_wKMks.webp" srcset="/_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%862.Clr3WAL-_2ij4VR.webp 640w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%862.Clr3WAL-_ZI7yPD.webp 750w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%862.Clr3WAL-_ZC8ke4.webp 828w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%862.Clr3WAL-_Z23tgdG.webp 1080w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%862.Clr3WAL-_2rQ9X3.webp 1280w, /_astro/%E7%94%A8%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E4%BA%8C%E5%8F%89%E5%A0%862.Clr3WAL-_wKMks.webp 1622w"></p>
<h3 id="向堆中添加元素-sift-up">向堆中添加元素 sift up</h3>
<ol>
<li>向堆中添加元素，就是加入数组的末尾，
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1554px) 1554px, 100vw"  data-astro-image="constrained" width="1554" height="830" src="/_astro/sift-up.RI2U72dv_2mOSqp.webp" srcset="/_astro/sift-up.RI2U72dv_Z1wbkk.webp 640w, /_astro/sift-up.RI2U72dv_Z1NgoeY.webp 750w, /_astro/sift-up.RI2U72dv_Z1C8DH6.webp 828w, /_astro/sift-up.RI2U72dv_ShUD1.webp 1080w, /_astro/sift-up.RI2U72dv_1gJNxw.webp 1280w, /_astro/sift-up.RI2U72dv_2mOSqp.webp 1554w"></li>
<li>同时需要满足，父亲节点的值要大于它，如果不满足，交换它和父亲节点的位置
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1542px) 1542px, 100vw"  data-astro-image="constrained" width="1542" height="838" src="/_astro/sift-up2.AnwU6EuO_TWQ2D.webp" srcset="/_astro/sift-up2.AnwU6EuO_Z1kSJpd.webp 640w, /_astro/sift-up2.AnwU6EuO_Z1YC69F.webp 750w, /_astro/sift-up2.AnwU6EuO_xP2vF.webp 828w, /_astro/sift-up2.AnwU6EuO_qklfs.webp 1080w, /_astro/sift-up2.AnwU6EuO_Z22EpFH.webp 1280w, /_astro/sift-up2.AnwU6EuO_TWQ2D.webp 1542w">
以此类推
<img alt="img_1.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1550px) 1550px, 100vw"  data-astro-image="constrained" width="1550" height="816" src="/_astro/sift-up3.DDaTedSj_1La5Ch.webp" srcset="/_astro/sift-up3.DDaTedSj_YzzEt.webp 640w, /_astro/sift-up3.DDaTedSj_ZPr21k.webp 750w, /_astro/sift-up3.DDaTedSj_1haPSK.webp 828w, /_astro/sift-up3.DDaTedSj_1VlIuc.webp 1080w, /_astro/sift-up3.DDaTedSj_Z1doaE2.webp 1280w, /_astro/sift-up3.DDaTedSj_1La5Ch.webp 1550w"></li>
</ol>
<h3 id="从堆中取出元素">从堆中取出元素</h3>
<p>只取出最大的元素（堆顶）</p>
<ol>
<li>把堆中最后的元素放到堆顶（数组末尾放到开头），并删除末尾的元素，当前满足了完全二叉树的性质</li>
<li>当前这个元素不满足大于其它节点的性质，需要将其下沉，把它和他的左右子节点做比较，把左右节点中最大的元素和它做交换（当然也需要满足比它大）</li>
</ol>
<p>堆的复杂度分析
插入取出都是 O(log(n))
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1528px) 1528px, 100vw"  data-astro-image="constrained" width="1528" height="851" src="/_astro/%E5%A0%86%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.C5GAOb4b_Z1DEXLu.webp" srcset="/_astro/%E5%A0%86%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.C5GAOb4b_Z7VGII.webp 640w, /_astro/%E5%A0%86%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.C5GAOb4b_Z2uyr20.webp 750w, /_astro/%E5%A0%86%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.C5GAOb4b_1DusT0.webp 828w, /_astro/%E5%A0%86%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.C5GAOb4b_Z1Dys3B.webp 1080w, /_astro/%E5%A0%86%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.C5GAOb4b_2fcWih.webp 1280w, /_astro/%E5%A0%86%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90.C5GAOb4b_Z1DEXLu.webp 1528w"></p>
<h3 id="取出最大元素后放入一个新的元素replace">取出最大元素后，放入一个新的元素（replace）</h3>
<p>实现：
可以直接将队中最大的元素替换后 sift down</p>
<h3 id="将任意数组整理成堆的形状heapify">将任意数组整理成堆的形状（heapify）</h3>
<p>从最后一个非叶子节点开始（图中的22）向前 sift down
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1552px) 1552px, 100vw"  data-astro-image="constrained" width="1552" height="803" src="/_astro/heapify1.BKscioX2_ND1tO.webp" srcset="/_astro/heapify1.BKscioX2_ZbUNLe.webp 640w, /_astro/heapify1.BKscioX2_Z2emwXG.webp 750w, /_astro/heapify1.BKscioX2_ZNBm95.webp 828w, /_astro/heapify1.BKscioX2_dskFq.webp 1080w, /_astro/heapify1.BKscioX2_ZJ43ER.webp 1280w, /_astro/heapify1.BKscioX2_ND1tO.webp 1552w"></p>
<p>这个节点的计算方式是，最后一个节点（数组末尾 index=size-1）的父级节点（(index-1)/2）
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1412px) 1412px, 100vw"  data-astro-image="constrained" width="1412" height="653" src="/_astro/heapify2.CVJ7vySI_1l1ixB.webp" srcset="/_astro/heapify2.CVJ7vySI_27xQ8I.webp 640w, /_astro/heapify2.CVJ7vySI_IGRXJ.webp 750w, /_astro/heapify2.CVJ7vySI_ZqyBiW.webp 828w, /_astro/heapify2.CVJ7vySI_Thq9z.webp 1080w, /_astro/heapify2.CVJ7vySI_YSppG.webp 1280w, /_astro/heapify2.CVJ7vySI_1l1ixB.webp 1412w"></p>
<h3 id="堆原地排序">堆原地排序</h3>
<ol>
<li>堆中最大的元素在数组首位，将其和数组末尾元素交换位置
此时，数组的前半部分（最后一个元素之前）不满足最大堆性质
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1512px) 1512px, 100vw"  data-astro-image="constrained" width="1512" height="650" src="/_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F.ClLFSarp_Z6p84m.webp" srcset="/_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F.ClLFSarp_Z1q5nSa.webp 640w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F.ClLFSarp_1jY5tW.webp 750w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F.ClLFSarp_Zm6Jqc.webp 828w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F.ClLFSarp_Z4QYlv.webp 1080w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F.ClLFSarp_1lWXq7.webp 1280w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F.ClLFSarp_Z6p84m.webp 1512w"></li>
<li>把现在开头元素 sift down， 这样前半部分又是最大堆
<img alt="img_1.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1471px) 1471px, 100vw"  data-astro-image="constrained" width="1471" height="563" src="/_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F2.Ds8eSxCV_Z1dNVNr.webp" srcset="/_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F2.Ds8eSxCV_m1OLA.webp 640w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F2.Ds8eSxCV_2hDNkX.webp 750w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F2.Ds8eSxCV_Z1rVeSR.webp 828w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F2.Ds8eSxCV_Zb7zVY.webp 1080w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F2.Ds8eSxCV_Z22wCc5.webp 1280w, /_astro/%E5%A0%86%E5%8E%9F%E5%9C%B0%E6%8E%92%E5%BA%8F2.Ds8eSxCV_Z1dNVNr.webp 1471w"></li>
<li>持续这个过程</li>
</ol>
<p>由于没有开辟新空间，此时空间复杂度 O(1)</p>
<h3 id="优先队列解决-topk-问题">优先队列解决 topK 问题</h3>
<p>在 N 个元素中选出最大的 K 个元素
在 N 个元素中选出最小的 K 个元素</p>
<p>select K 问题 — 找出第K大的元素（快速排序中处理过）</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 979px) 979px, 100vw"  data-astro-image="constrained" width="979" height="934" src="/_astro/topK.DxP_Holy_ZVEVmx.webp" srcset="/_astro/topK.DxP_Holy_ZW3gI9.webp 640w, /_astro/topK.DxP_Holy_Z1FEQsG.webp 750w, /_astro/topK.DxP_Holy_Z16umpm.webp 828w, /_astro/topK.DxP_Holy_ZVEVmx.webp 979w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1478px) 1478px, 100vw"  data-astro-image="constrained" width="1478" height="834" src="/_astro/topK2.DFn2Deq7_ZBhtLp.webp" srcset="/_astro/topK2.DFn2Deq7_pJ0q8.webp 640w, /_astro/topK2.DFn2Deq7_Z1VL7A1.webp 750w, /_astro/topK2.DFn2Deq7_Z17O9eA.webp 828w, /_astro/topK2.DFn2Deq7_1Q1WNl.webp 1080w, /_astro/topK2.DFn2Deq7_g37cy.webp 1280w, /_astro/topK2.DFn2Deq7_ZBhtLp.webp 1478w"></p>
<p>使用快排思想和使用优先队列思想解决 topK、selectK 问题比较：
快排：时间 O(n) 空间O(1)
优先队列：时间 O(nlogk) 空间O(k)
优先队列的优势：不需要一次性知道所有数据（数据流、极大规模数据）
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1272px) 1272px, 100vw"  data-astro-image="constrained" width="1272" height="806" src="/_astro/topK3.CWGFxgeV_Z1iX8L9.webp" srcset="/_astro/topK3.CWGFxgeV_ZIc38z.webp 640w, /_astro/topK3.CWGFxgeV_7Eist.webp 750w, /_astro/topK3.CWGFxgeV_cGBJo.webp 828w, /_astro/topK3.CWGFxgeV_2bsHUx.webp 1080w, /_astro/topK3.CWGFxgeV_Z1iX8L9.webp 1272w"></p>
<h2 id="冒泡排序法">冒泡排序法</h2>
<p>比较相邻的两个元素（j, j+1）如果j大于j+1则交换两者位置，一直比较到末尾</p>
<p>算法复杂度 O(n^2)</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] data</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> -</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (data[j]</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">data[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ></span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">                swap</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">data</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> j</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<p>优化一，如果已经是有序的了，就不需要继续后面的冒泡了（全程没有交换位置）</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort2</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] data</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        boolean</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> isSwapped</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF"> false</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> -</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (data[j]</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">data[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ></span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">                swap</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">data</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> j</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                isSwapped </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#82AAFF"> true</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">!</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">isSwapped) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            break</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<p>优化二，冒泡后，如果后面几个元素没有交换位置，说明它已经是有序的了，记录最后交换的索引，下轮冒泡跳过这些有序的值</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort3</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] data</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; ) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> lastSwappedIndex</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> -</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (data[j]</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">data[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ></span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">                swap</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">data</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> j</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                lastSwappedIndex </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">//            if (lastSwappedIndex == 0) {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">//</span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">                // 没有发生过交换，数组有序</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">//                break;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">//            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> -</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> lastSwappedIndex;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<h2 id="希尔排序法">希尔排序法</h2>
<p>插入排序：从索引 1 开始，和它前面的元素比较，如果大于就不动，如果小于则交换位置
越有序的元素交换次数越少，完全有序的比较一遍就可以了，复杂度 O(n)</p>
<p>基本思想：让数据越来越有序</p>
<p>冒泡排序法，相邻两个元素如果是逆序对就交换位置</p>
<p>希尔排序法：不能只处理相邻的逆序对</p>
<p>图中两个颜色一样的分为一组
每组索引相差4，分别对每组进行插入排序（如果左大于右就交换位置）</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1122px) 1122px, 100vw"  data-astro-image="constrained" width="1122" height="702" src="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.BLlLB-Ru_Z1ivM9E.webp" srcset="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.BLlLB-Ru_IWFol.webp 640w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.BLlLB-Ru_1IHe2x.webp 750w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.BLlLB-Ru_Z1PKh1A.webp 828w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.BLlLB-Ru_Z1ljYGl.webp 1080w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.BLlLB-Ru_Z1ivM9E.webp 1122w"></p>
<p>一轮希尔排序后</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1061px) 1061px, 100vw"  data-astro-image="constrained" width="1061" height="690" src="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F2.D_upCs6d_DH3LH.webp" srcset="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F2.D_upCs6d_20JVIn.webp 640w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F2.D_upCs6d_jj6s6.webp 750w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F2.D_upCs6d_olpJ1.webp 828w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F2.D_upCs6d_DH3LH.webp 1061w"></p>
<p>把整个数组按距离为 2 进行分组</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1056px) 1056px, 100vw"  data-astro-image="constrained" width="1056" height="680" src="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F3.jjccj3CT_2tIDrL.webp" srcset="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F3.jjccj3CT_Z19tVyn.webp 640w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F3.jjccj3CT_ZiKEUT.webp 750w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F3.jjccj3CT_ZdIlDY.webp 828w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F3.jjccj3CT_2tIDrL.webp 1056w"></p>
<p>排序后</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1052px) 1052px, 100vw"  data-astro-image="constrained" width="1052" height="684" src="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F4.BpoOkaSb_Z13IhUj.webp" srcset="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F4.BpoOkaSb_Z25uiXn.webp 640w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F4.BpoOkaSb_1ifYzh.webp 750w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F4.BpoOkaSb_1niiQc.webp 828w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F4.BpoOkaSb_Z13IhUj.webp 1052w"></p>
<p>按间隔为 1 进行分组，就是数组本身，进行插入排序</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 866px) 866px, 100vw"  data-astro-image="constrained" width="866" height="769" src="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F5.DThXmDmE_1Faktc.webp" srcset="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F5.DThXmDmE_8yC1V.webp 640w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F5.DThXmDmE_Zcmxfb.webp 750w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F5.DThXmDmE_1ie0w3.webp 828w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F5.DThXmDmE_1Faktc.webp 866w"></p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] data</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">    int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> h</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> /</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    while</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> start</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; start </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h; start</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">            // 对 data[start, start+h, start+2h, start+3h, ...] 进行插入排序</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> start </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">                E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> t</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[i];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">                int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">                for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x26;&#x26;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> t</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">data[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                    data[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                data[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> t;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">/</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<p>希尔排序性能 分析
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1596px) 1596px, 100vw"  data-astro-image="constrained" width="1596" height="833" src="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD.Dm0NmqUM_Z1yAiv6.webp" srcset="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD.Dm0NmqUM_ZUKem3.webp 640w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD.Dm0NmqUM_1BTIKR.webp 750w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD.Dm0NmqUM_1RNlVn.webp 828w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD.Dm0NmqUM_Z2uhPAN.webp 1080w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD.Dm0NmqUM_1WrRVG.webp 1280w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD.Dm0NmqUM_Z1yAiv6.webp 1596w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1393px) 1393px, 100vw"  data-astro-image="constrained" width="1393" height="852" src="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD2.IQb1WO53_Z13VqXy.webp" srcset="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD2.IQb1WO53_Z2s9lfP.webp 640w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD2.IQb1WO53_ZUk0vq.webp 750w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD2.IQb1WO53_Z1rlud2.webp 828w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD2.IQb1WO53_Z1p6ugD.webp 1080w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD2.IQb1WO53_Z19wTdG.webp 1280w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E6%80%A7%E8%83%BD2.IQb1WO53_Z13VqXy.webp 1393w"></p>
<p>代码优化：不显式拆分子数组，每轮对前面间隔 h 元素做比较</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort2</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] data</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">    int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> h</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> /</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    while</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">        // 对 data[h, n) 进行插入排序</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">            E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> t</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[i];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">            int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x26;&#x26;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> t</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">data[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                data[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            data[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> t;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">/</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<h3 id="步长序列">步长序列</h3>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 669px) 669px, 100vw"  data-astro-image="constrained" width="669" height="536" src="/_astro/%E6%AD%A5%E9%95%BF%E5%BA%8F%E5%88%97.B_HyQK_t_v9Ty8.webp" srcset="/_astro/%E6%AD%A5%E9%95%BF%E5%BA%8F%E5%88%97.B_HyQK_t_18PBGy.webp 640w, /_astro/%E6%AD%A5%E9%95%BF%E5%BA%8F%E5%88%97.B_HyQK_t_v9Ty8.webp 669w">
超参数</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> static</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> extends </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">Comparable&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">E</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>></span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sort3</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">E</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] data</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">    int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> h</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    while</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">*</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 3</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> +</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">        // 1, 4, 13, 40</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    while</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">        // 对 data[h, n) 进行插入排序</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">            E</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> t</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[i];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">            int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x26;&#x26;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> t</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">compareTo</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">data[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h]</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                data[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            data[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> t;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> h </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">/</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 3</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<h2 id="基于比较的排序算法总结">基于比较的排序算法总结</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1083px) 1083px, 100vw"  data-astro-image="constrained" width="1083" height="814" src="/_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93.CJJ8JStj_Z25N5gd.webp" srcset="/_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93.CJJ8JStj_1cO0sH.webp 640w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93.CJJ8JStj_ZbEfyc.webp 750w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93.CJJ8JStj_xhuLo.webp 828w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93.CJJ8JStj_Z4LF6x.webp 1080w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93.CJJ8JStj_Z25N5gd.webp 1083w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1605px) 1605px, 100vw"  data-astro-image="constrained" width="1605" height="834" src="/_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%931.DNXybhif_1EBc89.webp" srcset="/_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%931.DNXybhif_1xT9TU.webp 640w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%931.DNXybhif_Z1EM8xo.webp 750w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%931.DNXybhif_2bnG5g.webp 828w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%931.DNXybhif_Z1oS5s5.webp 1080w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%931.DNXybhif_ZlCtS4.webp 1280w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%931.DNXybhif_1EBc89.webp 1605w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1543px) 1543px, 100vw"  data-astro-image="constrained" width="1543" height="866" src="/_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%932.J15MYmLz_eHUNJ.webp" srcset="/_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%932.J15MYmLz_vj4Dw.webp 640w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%932.J15MYmLz_Z2wFasO.webp 750w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%932.J15MYmLz_1lDbIp.webp 828w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%932.J15MYmLz_2d8mNt.webp 1080w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%932.J15MYmLz_Z277ptf.webp 1280w, /_astro/%E5%9F%BA%E4%BA%8E%E6%AF%94%E8%BE%83%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%932.J15MYmLz_eHUNJ.webp 1543w"></p>
<h2 id="排序算法的稳定性">排序算法的稳定性</h2>
<p>排序算法的稳定性：排序前相等的两个元素，排序后相对位置不变</p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1234px) 1234px, 100vw"  data-astro-image="constrained" width="1234" height="707" src="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7.CjGD4Fxf_1Mq6EY.webp" srcset="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7.CjGD4Fxf_bHuMP.webp 640w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7.CjGD4Fxf_197EJY.webp 750w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7.CjGD4Fxf_vyFma.webp 828w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7.CjGD4Fxf_Z1iYkYD.webp 1080w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7.CjGD4Fxf_1Mq6EY.webp 1234w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1238px) 1238px, 100vw"  data-astro-image="constrained" width="1238" height="837" src="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A72.uzbcSBZ9_15rn1y.webp" srcset="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A72.uzbcSBZ9_Z1Uwdnk.webp 640w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A72.uzbcSBZ9_TJ6DS.webp 750w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A72.uzbcSBZ9_I1aIn.webp 828w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A72.uzbcSBZ9_Z6EM9J.webp 1080w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A72.uzbcSBZ9_15rn1y.webp 1238w"></p>
<p>选择排序是不稳定的
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 827px) 827px, 100vw"  data-astro-image="constrained" width="827" height="520" src="/_astro/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.BvpgmXau_Z1oPrwU.webp" srcset="/_astro/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.BvpgmXau_Z281z7g.webp 640w, /_astro/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.BvpgmXau_ZIaAEI.webp 750w, /_astro/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.BvpgmXau_Z1oPrwU.webp 827w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 825px) 825px, 100vw"  data-astro-image="constrained" width="825" height="541" src="/_astro/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.BzRTKoLO_1AocTu.webp" srcset="/_astro/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.BzRTKoLO_i2AwB.webp 640w, /_astro/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.BzRTKoLO_ZRfP6n.webp 750w, /_astro/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.BzRTKoLO_1AocTu.webp 825w"></p>
<p>插入排序法是稳定的（依赖具体实现）
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 845px) 845px, 100vw"  data-astro-image="constrained" width="845" height="688" src="/_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.D56QhBN-_1Ahdf7.webp" srcset="/_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.D56QhBN-_Z2l53K7.webp 640w, /_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.D56QhBN-_Z23u3Io.webp 750w, /_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.D56QhBN-_a7lli.webp 828w, /_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.D56QhBN-_1Ahdf7.webp 845w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1049px) 1049px, 100vw"  data-astro-image="constrained" width="1049" height="839" src="/_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.fpxhKycj_Rr12a.webp" srcset="/_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.fpxhKycj_Z1wvoI1.webp 640w, /_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.fpxhKycj_IYLRz.webp 750w, /_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.fpxhKycj_1zG1jN.webp 828w, /_astro/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.fpxhKycj_Rr12a.webp 1049w"></p>
<p>希尔排序是不稳定的
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 714px) 714px, 100vw"  data-astro-image="constrained" width="714" height="545" src="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.fRUnq_0G_Z1cl0Dm.webp" srcset="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.fRUnq_0G_Z251lBE.webp 640w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.fRUnq_0G_Z1cl0Dm.webp 714w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 713px) 713px, 100vw"  data-astro-image="constrained" width="713" height="535" src="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A71.D5g6I5Gx_Z6pv6p.webp" srcset="/_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A71.D5g6I5Gx_Z1oblWE.webp 640w, /_astro/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A71.D5g6I5Gx_Z6pv6p.webp 713w"></p>
<p>冒泡排序法是稳定的
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 881px) 881px, 100vw"  data-astro-image="constrained" width="881" height="747" src="/_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DJ8OJSux_feuRF.webp" srcset="/_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DJ8OJSux_1OnCOO.webp 640w, /_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DJ8OJSux_ZwhdWB.webp 750w, /_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DJ8OJSux_1Q6fUd.webp 828w, /_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DJ8OJSux_feuRF.webp 881w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1071px) 1071px, 100vw"  data-astro-image="constrained" width="1071" height="849" src="/_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A71.DIgs7PEH_1yuOPC.webp" srcset="/_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A71.DIgs7PEH_Z2m3q1A.webp 640w, /_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A71.DIgs7PEH_7RTNB.webp 750w, /_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A71.DIgs7PEH_3hhUK.webp 828w, /_astro/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A71.DIgs7PEH_1yuOPC.webp 1071w"></p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1348px) 1348px, 100vw"  data-astro-image="constrained" width="1348" height="722" src="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%A8%B3%E5%AE%9A%E6%80%A73.BS40VdyO_jAGc8.webp" srcset="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%A8%B3%E5%AE%9A%E6%80%A73.BS40VdyO_Z1lgUCO.webp 640w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%A8%B3%E5%AE%9A%E6%80%A73.BS40VdyO_2nk9lb.webp 750w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%A8%B3%E5%AE%9A%E6%80%A73.BS40VdyO_ZlNWj4.webp 828w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%A8%B3%E5%AE%9A%E6%80%A73.BS40VdyO_ZdLkCN.webp 1080w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%A8%B3%E5%AE%9A%E6%80%A73.BS40VdyO_VqHIX.webp 1280w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%A8%B3%E5%AE%9A%E6%80%A73.BS40VdyO_jAGc8.webp 1348w"></p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1160px) 1160px, 100vw"  data-astro-image="constrained" width="1160" height="730" src="/_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DMPe42WI_16Rpv1.webp" srcset="/_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DMPe42WI_2wxufC.webp 640w, /_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DMPe42WI_1qlEqA.webp 750w, /_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DMPe42WI_Z1OorMh.webp 828w, /_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DMPe42WI_2ceQbp.webp 1080w, /_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.DMPe42WI_16Rpv1.webp 1160w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1139px) 1139px, 100vw"  data-astro-image="constrained" width="1139" height="732" src="/_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.CzCSzJUm_Z1JPKTY.webp" srcset="/_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.CzCSzJUm_Z2g7YTa.webp 640w, /_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.CzCSzJUm_9jP81.webp 750w, /_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.CzCSzJUm_ZWzaWd.webp 828w, /_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.CzCSzJUm_Z1GNkRD.webp 1080w, /_astro/%E5%A0%86%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.CzCSzJUm_Z1JPKTY.webp 1139w"></p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1056px) 1056px, 100vw"  data-astro-image="constrained" width="1056" height="731" src="/_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.C0MyQflH_Z1U5mzO.webp" srcset="/_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.C0MyQflH_ZdLYNk.webp 640w, /_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.C0MyQflH_ZXXGfY.webp 750w, /_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.C0MyQflH_hbE5k.webp 828w, /_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A7.C0MyQflH_Z1U5mzO.webp 1056w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1433px) 1433px, 100vw"  data-astro-image="constrained" width="1433" height="853" src="/_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.DAU7r2Oa_Z2ttE5n.webp" srcset="/_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.DAU7r2Oa_Z1JgX86.webp 640w, /_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.DAU7r2Oa_17jcyO.webp 750w, /_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.DAU7r2Oa_25SIRB.webp 828w, /_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.DAU7r2Oa_Z1isGHN.webp 1080w, /_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.DAU7r2Oa_fAhxy.webp 1280w, /_astro/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E7%A8%B3%E5%AE%9A%E6%80%A72.DAU7r2Oa_Z2ttE5n.webp 1433w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1198px) 1198px, 100vw"  data-astro-image="constrained" width="1198" height="733" src="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A74.B4WnK23f_Z2o3seV.webp" srcset="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A74.B4WnK23f_Zdq0Cz.webp 640w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A74.B4WnK23f_Z2arC5O.webp 750w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A74.B4WnK23f_ZUnghI.webp 828w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A74.B4WnK23f_10dI9P.webp 1080w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A74.B4WnK23f_Z2o3seV.webp 1198w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 855px) 855px, 100vw"  data-astro-image="constrained" width="855" height="745" src="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A75.Do6SgmAX_Z1KJpmE.webp" srcset="/_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A75.Do6SgmAX_1Jvfrs.webp 640w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A75.Do6SgmAX_Z11TMqP.webp 750w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A75.Do6SgmAX_Z2sXUaA.webp 828w, /_astro/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A75.Do6SgmAX_Z1KJpmE.webp 855w"></p>
<h2 id="线段树区间树">线段树（区间树）</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1414px) 1414px, 100vw"  data-astro-image="constrained" width="1414" height="850" src="/_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%91.CBVxVA1k_Z1rQ3vn.webp" srcset="/_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%91.CBVxVA1k_2hIppT.webp 640w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%91.CBVxVA1k_Z1jHELW.webp 750w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%91.CBVxVA1k_qS4lC.webp 828w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%91.CBVxVA1k_ZBA0jo.webp 1080w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%91.CBVxVA1k_Z192qG9.webp 1280w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%91.CBVxVA1k_Z1rQ3vn.webp 1414w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1137px) 1137px, 100vw"  data-astro-image="constrained" width="1137" height="782" src="/_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%912.CLqitzPg_ZXzFTd.webp" srcset="/_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%912.CLqitzPg_Z1sQQbo.webp 640w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%912.CLqitzPg_15a93y.webp 750w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%912.CLqitzPg_Z1lKbM9.webp 828w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%912.CLqitzPg_5yxFo.webp 1080w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%912.CLqitzPg_ZXzFTd.webp 1137w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1415px) 1415px, 100vw"  data-astro-image="constrained" width="1415" height="712" src="/_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%913.D3_Cly09_Z9Tane.webp" srcset="/_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%913.D3_Cly09_1WfCpe.webp 640w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%913.D3_Cly09_Z2scvqq.webp 750w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%913.D3_Cly09_2lHVUx.webp 828w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%913.D3_Cly09_Z1e8S6.webp 1080w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%913.D3_Cly09_1Je8JM.webp 1280w, /_astro/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E6%AE%B5%E6%A0%913.D3_Cly09_Z9Tane.webp 1415w">
这类问题，数组复杂度 O(n) 线段树 O(log(n))</p>
<p>对于二叉树中的每一个节点，存储的是一个线段/区间的信息
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1483px) 1483px, 100vw"  data-astro-image="constrained" width="1483" height="832" src="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%91.CIVhxG0i_ZywGpq.webp" srcset="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%91.CIVhxG0i_Z1x0Y2j.webp 640w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%91.CIVhxG0i_Z2qWczO.webp 750w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%91.CIVhxG0i_1S50Xm.webp 828w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%91.CIVhxG0i_CmO2p.webp 1080w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%91.CIVhxG0i_1xozvl.webp 1280w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%91.CIVhxG0i_ZywGpq.webp 1483w"></p>
<p>平衡二叉树，对于整棵树来说，最大深度和最小深度的差最多为 1
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1588px) 1588px, 100vw"  data-astro-image="constrained" width="1588" height="877" src="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%912.redVy3LL_rcjDR.webp" srcset="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%912.redVy3LL_12XBBR.webp 640w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%912.redVy3LL_Z10KStr.webp 750w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%912.redVy3LL_Z1LFmlM.webp 828w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%912.redVy3LL_Z1JShzp.webp 1080w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%912.redVy3LL_Z1qAh4H.webp 1280w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%912.redVy3LL_rcjDR.webp 1588w"></p>
<p>如果区间有 n 个元素，数组表示需要多少节点？
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1497px) 1497px, 100vw"  data-astro-image="constrained" width="1497" height="862" src="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%913.DQrl2uzR_160sz2.webp" srcset="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%913.DQrl2uzR_1P8nqK.webp 640w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%913.DQrl2uzR_1OpLaB.webp 750w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%913.DQrl2uzR_Z5wGRX.webp 828w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%913.DQrl2uzR_ZUnObQ.webp 1080w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%913.DQrl2uzR_Z2rkua0.webp 1280w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%913.DQrl2uzR_160sz2.webp 1497w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1578px) 1578px, 100vw"  data-astro-image="constrained" width="1578" height="863" src="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%914.xaWdd34E_Z1PmG2T.webp" srcset="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%914.xaWdd34E_Z1tC0sn.webp 640w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%914.xaWdd34E_26Q7Pm.webp 750w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%914.xaWdd34E_1kVDX1.webp 828w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%914.xaWdd34E_12NJOu.webp 1080w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%914.xaWdd34E_1mePiL.webp 1280w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%914.xaWdd34E_Z1PmG2T.webp 1578w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 989px) 989px, 100vw"  data-astro-image="constrained" width="989" height="821" src="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%915.CFq3nI6M_Z2aGlsS.webp" srcset="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%915.CFq3nI6M_1zBeHF.webp 640w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%915.CFq3nI6M_YnJ7k.webp 750w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%915.CFq3nI6M_ZTObjE.webp 828w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%915.CFq3nI6M_Z2aGlsS.webp 989w">
最坏情况会有一半的空间是浪费的
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1248px) 1248px, 100vw"  data-astro-image="constrained" width="1248" height="772" src="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%916.D833wpRy_2tCEQ4.webp" srcset="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%916.D833wpRy_B6hHn.webp 640w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%916.D833wpRy_Z2gIOvl.webp 750w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%916.D833wpRy_ZbXGaq.webp 828w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%916.D833wpRy_1ztMgs.webp 1080w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%916.D833wpRy_2tCEQ4.webp 1248w"></p>
<p>查询 <code>[2, 5]</code>
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1536px) 1536px, 100vw"  data-astro-image="constrained" width="1536" height="656" src="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%917.CeNE_2zu_Z1Y3ufW.webp" srcset="/_astro/%E7%BA%BF%E6%AE%B5%E6%A0%917.CeNE_2zu_1gdHr3.webp 640w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%917.CeNE_2zu_Z12rOcY.webp 750w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%917.CeNE_2zu_9Ljdj.webp 828w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%917.CeNE_2zu_4b3e9.webp 1080w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%917.CeNE_2zu_Z1lEQNB.webp 1280w, /_astro/%E7%BA%BF%E6%AE%B5%E6%A0%917.CeNE_2zu_Z1Y3ufW.webp 1536w"></p>
<p>LeetCode 303 和 307 号问题</p>
<h2 id="trie-字典树-前缀树">Trie 字典树 前缀树</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1495px) 1495px, 100vw"  data-astro-image="constrained" width="1495" height="852" src="/_astro/Trie.qOlUMTpy_Z2si2XU.webp" srcset="/_astro/Trie.qOlUMTpy_u1A66.webp 640w, /_astro/Trie.qOlUMTpy_Z28JpAk.webp 750w, /_astro/Trie.qOlUMTpy_ZQBYCv.webp 828w, /_astro/Trie.qOlUMTpy_Z1VEfpO.webp 1080w, /_astro/Trie.qOlUMTpy_ZUqNud.webp 1280w, /_astro/Trie.qOlUMTpy_Z2si2XU.webp 1495w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 892px) 892px, 100vw"  data-astro-image="constrained" width="892" height="876" src="/_astro/Trie2.ChtlbSYO_2uOOK2.webp" srcset="/_astro/Trie2.ChtlbSYO_17CgIV.webp 640w, /_astro/Trie2.ChtlbSYO_Z1Kt0qV.webp 750w, /_astro/Trie2.ChtlbSYO_Z14X3M7.webp 828w, /_astro/Trie2.ChtlbSYO_2uOOK2.webp 892w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1585px) 1585px, 100vw"  data-astro-image="constrained" width="1585" height="861" src="/_astro/Trie3.DFBqEPTV_1E87n6.webp" srcset="/_astro/Trie3.DFBqEPTV_1bGQAS.webp 640w, /_astro/Trie3.DFBqEPTV_1mtUs4.webp 750w, /_astro/Trie3.DFBqEPTV_2a752K.webp 828w, /_astro/Trie3.DFBqEPTV_2asLHY.webp 1080w, /_astro/Trie3.DFBqEPTV_1rRNGq.webp 1280w, /_astro/Trie3.DFBqEPTV_1E87n6.webp 1585w"></p>
<h2 id="并查集-union-find">并查集 Union Find</h2>
<p>连接问题
网络节点中的连接状态</p>
<ul>
<li>网络是一个抽象的概念：用户之间形成的网络
数学中的集合类实现</li>
</ul>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 950px) 950px, 100vw"  data-astro-image="constrained" width="950" height="666" src="/_astro/UnionFind.CaZWrDCT_v8pOE.webp" srcset="/_astro/UnionFind.CaZWrDCT_Z1lky3s.webp 640w, /_astro/UnionFind.CaZWrDCT_Z1dFo3l.webp 750w, /_astro/UnionFind.CaZWrDCT_ZTGEuY.webp 828w, /_astro/UnionFind.CaZWrDCT_v8pOE.webp 950w">
并查集内部为每个数据赋予一个编号(下图 0-9)
对于每一个元素，并查集存储了它所属集合的id(下图下半部分)
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1267px) 1267px, 100vw"  data-astro-image="constrained" width="1267" height="596" src="/_astro/UnionFind2.3Y-x9gHL_HUnFK.webp" srcset="/_astro/UnionFind2.3Y-x9gHL_ZC70pD.webp 640w, /_astro/UnionFind2.3Y-x9gHL_Z1S9Yq4.webp 750w, /_astro/UnionFind2.3Y-x9gHL_1KOTT8.webp 828w, /_astro/UnionFind2.3Y-x9gHL_13Ex7V.webp 1080w, /_astro/UnionFind2.3Y-x9gHL_HUnFK.webp 1267w">
上图 0-4 属于一个集合，5-9属于另一个集合
编号 0 和 编号 1 也就是可连接的
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1293px) 1293px, 100vw"  data-astro-image="constrained" width="1293" height="636" src="/_astro/UnionFind3.-ftkhhmS_4IdvV.webp" srcset="/_astro/UnionFind3.-ftkhhmS_1J4YW.webp 640w, /_astro/UnionFind3.-ftkhhmS_1JBszD.webp 750w, /_astro/UnionFind3.-ftkhhmS_Z1uzzsr.webp 828w, /_astro/UnionFind3.-ftkhhmS_1w3XW6.webp 1080w, /_astro/UnionFind3.-ftkhhmS_2msnXf.webp 1280w, /_astro/UnionFind3.-ftkhhmS_4IdvV.webp 1293w"></p>
<p>并查集需要实现的接口</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">// 查看元素 p 和元素 q 是否属于同一个集合</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">boolean</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> isConnected</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> p</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> q</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">// 把 p 和 q 所在的集合连接起来</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> unionElements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> p</span><span style="--shiki-light:#212121;--shiki-dark:#82AAFF">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF"> q</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span></code></pre>
<p>使用数组实现，数组存储节点所在的集合编号
那么，isConnected 通过下标比较集合编号即可，复杂度是 O(1)
unionElements 需要遍历整个数组，把 p 所在的下标改为 q，复杂度是 O(n)</p>
<p>把每一个元素看作是节点，
在一个集合中，节点 3 指向 节点 2， 节点 2 作为树的根节点，指向自己
向这个集合添加元素，指向根节点即可
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1431px) 1431px, 100vw"  data-astro-image="constrained" width="1431" height="829" src="/_astro/UnionFind4.Dx1AI9iw_16xFLm.webp" srcset="/_astro/UnionFind4.Dx1AI9iw_ZV5hKu.webp 640w, /_astro/UnionFind4.Dx1AI9iw_1LdQAQ.webp 750w, /_astro/UnionFind4.Dx1AI9iw_1B45e5.webp 828w, /_astro/UnionFind4.Dx1AI9iw_Za2aSh.webp 1080w, /_astro/UnionFind4.Dx1AI9iw_ZaQ87v.webp 1280w, /_astro/UnionFind4.Dx1AI9iw_16xFLm.webp 1431w">
合并两个集合，把集合根节点，指向另一个集合的根节点
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1436px) 1436px, 100vw"  data-astro-image="constrained" width="1436" height="822" src="/_astro/UnionFind5.DH4FPl-9_ZgVQll.webp" srcset="/_astro/UnionFind5.DH4FPl-9_2q8ypf.webp 640w, /_astro/UnionFind5.DH4FPl-9_3fyWE.webp 750w, /_astro/UnionFind5.DH4FPl-9_Vebci.webp 828w, /_astro/UnionFind5.DH4FPl-9_Z1uar8F.webp 1080w, /_astro/UnionFind5.DH4FPl-9_z4IIc.webp 1280w, /_astro/UnionFind5.DH4FPl-9_ZgVQll.webp 1436w"></p>
<p>在数组中，初始时候，每个元素指向它的父节点
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1521px) 1521px, 100vw"  data-astro-image="constrained" width="1521" height="815" src="/_astro/UnionFind6.Dpe8uLsT_1EVEtm.webp" srcset="/_astro/UnionFind6.Dpe8uLsT_29wN0o.webp 640w, /_astro/UnionFind6.Dpe8uLsT_Z15YLNu.webp 750w, /_astro/UnionFind6.Dpe8uLsT_ZoHAVG.webp 828w, /_astro/UnionFind6.Dpe8uLsT_2pPtlw.webp 1080w, /_astro/UnionFind6.Dpe8uLsT_Z1cwmvT.webp 1280w, /_astro/UnionFind6.Dpe8uLsT_1EVEtm.webp 1521w">
Union(4, 3), 让节点 4 指向节点 3，在数组中，把 4 所在位置值修改为 3 存储的值
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1515px) 1515px, 100vw"  data-astro-image="constrained" width="1515" height="836" src="/_astro/UnionFind7.CERmhMi0_UhoWL.webp" srcset="/_astro/UnionFind7.CERmhMi0_2tdlX8.webp 640w, /_astro/UnionFind7.CERmhMi0_2cB8Jm.webp 750w, /_astro/UnionFind7.CERmhMi0_1PJUYK.webp 828w, /_astro/UnionFind7.CERmhMi0_Z88FdW.webp 1080w, /_astro/UnionFind7.CERmhMi0_1OIvHE.webp 1280w, /_astro/UnionFind7.CERmhMi0_UhoWL.webp 1515w">
Union(3， 8)
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1554px) 1554px, 100vw"  data-astro-image="constrained" width="1554" height="842" src="/_astro/UnionFind8.ZFOew6ZI_ZGvkr2.webp" srcset="/_astro/UnionFind8.ZFOew6ZI_Z1YcpsN.webp 640w, /_astro/UnionFind8.ZFOew6ZI_Z9wQsK.webp 750w, /_astro/UnionFind8.ZFOew6ZI_Zvo4dm.webp 828w, /_astro/UnionFind8.ZFOew6ZI_Z11UuW4.webp 1080w, /_astro/UnionFind8.ZFOew6ZI_1kWEBb.webp 1280w, /_astro/UnionFind8.ZFOew6ZI_ZGvkr2.webp 1554w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1505px) 1505px, 100vw"  data-astro-image="constrained" width="1505" height="825" src="/_astro/UnionFind9.RmdHNttY_1F0w6P.webp" srcset="/_astro/UnionFind9.RmdHNttY_Z2sjJAA.webp 640w, /_astro/UnionFind9.RmdHNttY_Z1FMzcW.webp 750w, /_astro/UnionFind9.RmdHNttY_Z22DLWy.webp 828w, /_astro/UnionFind9.RmdHNttY_Z1J3xV1.webp 1080w, /_astro/UnionFind9.RmdHNttY_dND0A.webp 1280w, /_astro/UnionFind9.RmdHNttY_1F0w6P.webp 1505w"></p>
<h3 id="基于-size-的优化">基于 size 的优化</h3>
<p>如果我们在合并时，单纯让 p 所在根节点指向 q 所在根节点，
那么极端情况下有可能会形成链表
优化思路：记录每个节点的树的节点数量，当合并时判断，把节点少的合并到节点多的树上</p>
<p>UnionFind1: 3.782069081 s
UnionFind2: 5.547484642 s
UnionFind3: 0.009774763 s</p>
<h3 id="基于-rank-的优化">基于 rank 的优化</h3>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1306px) 1306px, 100vw"  data-astro-image="constrained" width="1306" height="828" src="/_astro/UnionFind10.DXqCjLk8_Z5Y50k.webp" srcset="/_astro/UnionFind10.DXqCjLk8_Z1oQLOM.webp 640w, /_astro/UnionFind10.DXqCjLk8_2jnyv9.webp 750w, /_astro/UnionFind10.DXqCjLk8_2qTqUn.webp 828w, /_astro/UnionFind10.DXqCjLk8_1zSu7N.webp 1080w, /_astro/UnionFind10.DXqCjLk8_Z1DN7PJ.webp 1280w, /_astro/UnionFind10.DXqCjLk8_Z5Y50k.webp 1306w">
如果基于 size 优化，合并后，节点 8 指向 节点多的根节点 7
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1324px) 1324px, 100vw"  data-astro-image="constrained" width="1324" height="825" src="/_astro/UnionFind11.ChuAJ7kB_1i0yaO.webp" srcset="/_astro/UnionFind11.ChuAJ7kB_Zuxy9v.webp 640w, /_astro/UnionFind11.ChuAJ7kB_1SBUW3.webp 750w, /_astro/UnionFind11.ChuAJ7kB_ZXYcly.webp 828w, /_astro/UnionFind11.ChuAJ7kB_Z2n9HTP.webp 1080w, /_astro/UnionFind11.ChuAJ7kB_Z1c66B3.webp 1280w, /_astro/UnionFind11.ChuAJ7kB_1i0yaO.webp 1324w">
此时树的深度为 4，更合理的合并应该是让 节点7指向节点 8
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1248px) 1248px, 100vw"  data-astro-image="constrained" width="1248" height="813" src="/_astro/UnionFind12.24mxmqP8_Z1ScGkv.webp" srcset="/_astro/UnionFind12.24mxmqP8_ZGC5PP.webp 640w, /_astro/UnionFind12.24mxmqP8_1QC00J.webp 750w, /_astro/UnionFind12.24mxmqP8_1Y8RpX.webp 828w, /_astro/UnionFind12.24mxmqP8_Z2aEGl4.webp 1080w, /_astro/UnionFind12.24mxmqP8_Z1ScGkv.webp 1248w"></p>
<p><code>rank[i]</code> 表示根节点为 i 的树的高度</p>
<h3 id="路径压缩">路径压缩</h3>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1480px) 1480px, 100vw"  data-astro-image="constrained" width="1480" height="845" src="/_astro/UnionFind13.DpKYdp4s_1YbN7n.webp" srcset="/_astro/UnionFind13.DpKYdp4s_1Mf3Ue.webp 640w, /_astro/UnionFind13.DpKYdp4s_2oYpC4.webp 750w, /_astro/UnionFind13.DpKYdp4s_16ovps.webp 828w, /_astro/UnionFind13.DpKYdp4s_ZzwtN7.webp 1080w, /_astro/UnionFind13.DpKYdp4s_Z10eP0B.webp 1280w, /_astro/UnionFind13.DpKYdp4s_1YbN7n.webp 1480w"></p>
<p>执行 find 时候进行压缩
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 938px) 938px, 100vw"  data-astro-image="constrained" width="938" height="839" src="/_astro/UnionFind14.CvLCiGfj_2pa0sy.webp" srcset="/_astro/UnionFind14.CvLCiGfj_Z1catsv.webp 640w, /_astro/UnionFind14.CvLCiGfj_2sBOL1.webp 750w, /_astro/UnionFind14.CvLCiGfj_12kSOG.webp 828w, /_astro/UnionFind14.CvLCiGfj_2pa0sy.webp 938w">
遍历过程中执行 <code>parent[p] = parent[parent[p]]</code>,
把当前节点，指向它父节点的父节点
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1228px) 1228px, 100vw"  data-astro-image="constrained" width="1228" height="833" src="/_astro/UnionFind15.ChNJd1pT_Z1StJAh.webp" srcset="/_astro/UnionFind15.ChNJd1pT_Z1kyypc.webp 640w, /_astro/UnionFind15.ChNJd1pT_1IIqrt.webp 750w, /_astro/UnionFind15.ChNJd1pT_12ypae.webp 828w, /_astro/UnionFind15.ChNJd1pT_Z1SWSNB.webp 1080w, /_astro/UnionFind15.ChNJd1pT_Z1StJAh.webp 1228w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1310px) 1310px, 100vw"  data-astro-image="constrained" width="1310" height="819" src="/_astro/UnionFind16.CU3yd2mR_4uWOY.webp" srcset="/_astro/UnionFind16.CU3yd2mR_Z12ekrd.webp 640w, /_astro/UnionFind16.CU3yd2mR_EDuCn.webp 750w, /_astro/UnionFind16.CU3yd2mR_Z2cWCFe.webp 828w, /_astro/UnionFind16.CU3yd2mR_ce3CN.webp 1080w, /_astro/UnionFind16.CU3yd2mR_Z11eVB0.webp 1280w, /_astro/UnionFind16.CU3yd2mR_4uWOY.webp 1310w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1436px) 1436px, 100vw"  data-astro-image="constrained" width="1436" height="867" src="/_astro/UnionFind17.BHGn_ML9_Z1CC1y.webp" srcset="/_astro/UnionFind17.BHGn_ML9_Z1AwQP2.webp 640w, /_astro/UnionFind17.BHGn_ML9_Z2cunrj.webp 750w, /_astro/UnionFind17.BHGn_ML9_ZTXfxI.webp 828w, /_astro/UnionFind17.BHGn_ML9_udXl0.webp 1080w, /_astro/UnionFind17.BHGn_ML9_CwFik.webp 1280w, /_astro/UnionFind17.BHGn_ML9_Z1CC1y.webp 1436w"></p>
<p>时间复杂度
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1136px) 1136px, 100vw"  data-astro-image="constrained" width="1136" height="789" src="/_astro/UnionFind18.DcMsi1y6_1tzSC0.webp" srcset="/_astro/UnionFind18.DcMsi1y6_Z1oqEbv.webp 640w, /_astro/UnionFind18.DcMsi1y6_1B9HPp.webp 750w, /_astro/UnionFind18.DcMsi1y6_1SKc0E.webp 828w, /_astro/UnionFind18.DcMsi1y6_1TOK3Q.webp 1080w, /_astro/UnionFind18.DcMsi1y6_1tzSC0.webp 1136w"></p>
<h2 id="avl-树">AVL 树</h2>
<p>平衡二叉树：
对于任意一个节点，左子树和右子树的高度差不能超过 1
平衡二叉树的高度和节点数量之间的关系也是O(log(n))的
标注节点的高度 — 左右子树中最大高度加一
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1488px) 1488px, 100vw"  data-astro-image="constrained" width="1488" height="855" src="/_astro/AVL.Bh2ZMzWh_Z18a0Kw.webp" srcset="/_astro/AVL.Bh2ZMzWh_Z1yCadP.webp 640w, /_astro/AVL.Bh2ZMzWh_Z2jFTWH.webp 750w, /_astro/AVL.Bh2ZMzWh_29dLp7.webp 828w, /_astro/AVL.Bh2ZMzWh_ZqzXl9.webp 1080w, /_astro/AVL.Bh2ZMzWh_ZEBd3r.webp 1280w, /_astro/AVL.Bh2ZMzWh_Z18a0Kw.webp 1488w">
计算平衡因子 — 左子树的高度减去右子树的高度
（如果平衡因子（高度差）大于等于 2，二叉树就不是平衡二叉树了）
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1576px) 1576px, 100vw"  data-astro-image="constrained" width="1576" height="892" src="/_astro/AVL2.B4e0xmgn_Z18MeXw.webp" srcset="/_astro/AVL2.B4e0xmgn_Z1x7saW.webp 640w, /_astro/AVL2.B4e0xmgn_TiEVy.webp 750w, /_astro/AVL2.B4e0xmgn_Z10DN71.webp 828w, /_astro/AVL2.B4e0xmgn_Z1sH4mn.webp 1080w, /_astro/AVL2.B4e0xmgn_25FtrY.webp 1280w, /_astro/AVL2.B4e0xmgn_Z18MeXw.webp 1576w"></p>
<h3 id="avl-添加元素后如何维持平衡">AVL 添加元素后，如何维持平衡</h3>
<p>每添加一个节点，计算其父节点的平衡因子，判断是否打破平衡
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1601px) 1601px, 100vw"  data-astro-image="constrained" width="1601" height="859" src="/_astro/AVL3.li1A2W9U_7KMax.webp" srcset="/_astro/AVL3.li1A2W9U_gJaiX.webp 640w, /_astro/AVL3.li1A2W9U_ZCWkB7.webp 750w, /_astro/AVL3.li1A2W9U_ZOPiSl.webp 828w, /_astro/AVL3.li1A2W9U_ZinipE.webp 1080w, /_astro/AVL3.li1A2W9U_IenqF.webp 1280w, /_astro/AVL3.li1A2W9U_7KMax.webp 1601w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1484px) 1484px, 100vw"  data-astro-image="constrained" width="1484" height="890" src="/_astro/AVL4.BckiBIQr_Zk5aPQ.webp" srcset="/_astro/AVL4.BckiBIQr_ZuBztQ.webp 640w, /_astro/AVL4.BckiBIQr_Z2eoGwl.webp 750w, /_astro/AVL4.BckiBIQr_Zdd1Wd.webp 828w, /_astro/AVL4.BckiBIQr_foRwJ.webp 1080w, /_astro/AVL4.BckiBIQr_Z1ifQ7R.webp 1280w, /_astro/AVL4.BckiBIQr_Zk5aPQ.webp 1484w">
<strong>右旋转</strong>
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1185px) 1185px, 100vw"  data-astro-image="constrained" width="1185" height="870" src="/_astro/AVL5.DnK1ZtsB_ZXgvmv.webp" srcset="/_astro/AVL5.DnK1ZtsB_meJpW.webp 640w, /_astro/AVL5.DnK1ZtsB_Z1GCPDV.webp 750w, /_astro/AVL5.DnK1ZtsB_i5UaS.webp 828w, /_astro/AVL5.DnK1ZtsB_Z13lkVz.webp 1080w, /_astro/AVL5.DnK1ZtsB_ZXgvmv.webp 1185w">
让 x 的右子树连接上 y (x.right = y)
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1584px) 1584px, 100vw"  data-astro-image="constrained" width="1584" height="848" src="/_astro/AVL6.oCpVT8H-_2fUMXK.webp" srcset="/_astro/AVL6.oCpVT8H-_Z16EcU5.webp 640w, /_astro/AVL6.oCpVT8H-_Z21lHPa.webp 750w, /_astro/AVL6.oCpVT8H-_Z1Ddbwh.webp 828w, /_astro/AVL6.oCpVT8H-_1Y9S3.webp 1080w, /_astro/AVL6.oCpVT8H-_Z1tqbaN.webp 1280w, /_astro/AVL6.oCpVT8H-_2fUMXK.webp 1584w">
把 y 的左子树设置为 T3 (x.left = T3)
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1463px) 1463px, 100vw"  data-astro-image="constrained" width="1463" height="807" src="/_astro/AVL7.DUkkJvL8_Z2ebUFB.webp" srcset="/_astro/AVL7.DUkkJvL8_Z1dCy2d.webp 640w, /_astro/AVL7.DUkkJvL8_1MO4Fp.webp 750w, /_astro/AVL7.DUkkJvL8_11TAN4.webp 828w, /_astro/AVL7.DUkkJvL8_ZYYFtR.webp 1080w, /_astro/AVL7.DUkkJvL8_1QsqTA.webp 1280w, /_astro/AVL7.DUkkJvL8_Z2ebUFB.webp 1463w">
右旋转后的树满足平衡二叉树和二分搜索树的性质
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1626px) 1626px, 100vw"  data-astro-image="constrained" width="1626" height="871" src="/_astro/AVL8.DV7nxogx_1f3Hbx.webp" srcset="/_astro/AVL8.DV7nxogx_Z108ksg.webp 640w, /_astro/AVL8.DV7nxogx_Z1TOPnl.webp 750w, /_astro/AVL8.DV7nxogx_Z26HNEz.webp 828w, /_astro/AVL8.DV7nxogx_N1d7H.webp 1080w, /_astro/AVL8.DV7nxogx_ZHo7V9.webp 1280w, /_astro/AVL8.DV7nxogx_1f3Hbx.webp 1626w"></p>
<p><strong>左旋转</strong>
插入的元素在不平衡的节点的右侧的右侧
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1281px) 1281px, 100vw"  data-astro-image="constrained" width="1281" height="848" src="/_astro/AVL9.DWMC6ES4_2e1fbU.webp" srcset="/_astro/AVL9.DWMC6ES4_Z12quwY.webp 640w, /_astro/AVL9.DWMC6ES4_1qjrlg.webp 750w, /_astro/AVL9.DWMC6ES4_1cXzjI.webp 828w, /_astro/AVL9.DWMC6ES4_Z1gjPxl.webp 1080w, /_astro/AVL9.DWMC6ES4_Zj4PTW.webp 1280w, /_astro/AVL9.DWMC6ES4_2e1fbU.webp 1281w">
x.left = y
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1497px) 1497px, 100vw"  data-astro-image="constrained" width="1497" height="851" src="/_astro/AVL10.DR5l4BaF_Z1yaOkr.webp" srcset="/_astro/AVL10.DR5l4BaF_Z1bBxky.webp 640w, /_astro/AVL10.DR5l4BaF_1w4sse.webp 750w, /_astro/AVL10.DR5l4BaF_2jyx4l.webp 828w, /_astro/AVL10.DR5l4BaF_ZAfTiF.webp 1080w, /_astro/AVL10.DR5l4BaF_Z1vas9A.webp 1280w, /_astro/AVL10.DR5l4BaF_Z1yaOkr.webp 1497w">
y.right = T3
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1579px) 1579px, 100vw"  data-astro-image="constrained" width="1579" height="813" src="/_astro/AVL11.vPVlx_hc_2lfiqr.webp" srcset="/_astro/AVL11.vPVlx_hc_Z1wwCKQ.webp 640w, /_astro/AVL11.vPVlx_hc_1U426r.webp 750w, /_astro/AVL11.vPVlx_hc_ZuVrSd.webp 828w, /_astro/AVL11.vPVlx_hc_Z1CQQzg.webp 1080w, /_astro/AVL11.vPVlx_hc_Z1t3W1A.webp 1280w, /_astro/AVL11.vPVlx_hc_2lfiqr.webp 1579w"></p>
<p>前面讨论的可以叫做 LL, RR
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1504px) 1504px, 100vw"  data-astro-image="constrained" width="1504" height="841" src="/_astro/AVL13.bD3qBHIX_26OAjt.webp" srcset="/_astro/AVL13.bD3qBHIX_GWgqF.webp 640w, /_astro/AVL13.bD3qBHIX_RBfjh.webp 750w, /_astro/AVL13.bD3qBHIX_ZQUGYM.webp 828w, /_astro/AVL13.bD3qBHIX_2krQeJ.webp 1080w, /_astro/AVL13.bD3qBHIX_1tDOEB.webp 1280w, /_astro/AVL13.bD3qBHIX_26OAjt.webp 1504w"></p>
<p><strong>LR</strong>
插入的元素在不平衡的节点的左侧的右侧
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1605px) 1605px, 100vw"  data-astro-image="constrained" width="1605" height="894" src="/_astro/AVL12.BaiTyD6E_2uWFxe.webp" srcset="/_astro/AVL12.BaiTyD6E_1bgN66.webp 640w, /_astro/AVL12.BaiTyD6E_Z1bejU3.webp 750w, /_astro/AVL12.BaiTyD6E_ZnBakm.webp 828w, /_astro/AVL12.BaiTyD6E_1XM1k9.webp 1080w, /_astro/AVL12.BaiTyD6E_Z1n3Nvy.webp 1280w, /_astro/AVL12.BaiTyD6E_2uWFxe.webp 1605w">
首先对 x 进行左旋转
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1018px) 1018px, 100vw"  data-astro-image="constrained" width="1018" height="797" src="/_astro/AVL14.Cc6q6V76_nSbgS.webp" srcset="/_astro/AVL14.Cc6q6V76_Z9FhAQ.webp 640w, /_astro/AVL14.Cc6q6V76_DEvri.webp 750w, /_astro/AVL14.Cc6q6V76_Gzw62.webp 828w, /_astro/AVL14.Cc6q6V76_nSbgS.webp 1018w">
转化成了 LL 的情况
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1094px) 1094px, 100vw"  data-astro-image="constrained" width="1094" height="836" src="/_astro/AVL15.C0G06jBP_Z1KnWWx.webp" srcset="/_astro/AVL15.C0G06jBP_Z1YAkLd.webp 640w, /_astro/AVL15.C0G06jBP_Z1TCQSh.webp 750w, /_astro/AVL15.C0G06jBP_FrfEd.webp 828w, /_astro/AVL15.C0G06jBP_ZI0Tg3.webp 1080w, /_astro/AVL15.C0G06jBP_Z1KnWWx.webp 1094w"></p>
<p><strong>RL</strong>
插入的元素在不平衡的节点的右侧的左侧
首先对 x 进行右旋转
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1171px) 1171px, 100vw"  data-astro-image="constrained" width="1171" height="837" src="/_astro/AVL16.BIrrALK-_2aVFXT.webp" srcset="/_astro/AVL16.BIrrALK-_Z2hqgJe.webp 640w, /_astro/AVL16.BIrrALK-_Z2aJJ9P.webp 750w, /_astro/AVL16.BIrrALK-_Z1pmXaT.webp 828w, /_astro/AVL16.BIrrALK-_Z10hosr.webp 1080w, /_astro/AVL16.BIrrALK-_2aVFXT.webp 1171w">
转化成了 RR 的情况
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1293px) 1293px, 100vw"  data-astro-image="constrained" width="1293" height="787" src="/_astro/AVL17.DYS3oAKl_bMdIR.webp" srcset="/_astro/AVL17.DYS3oAKl_1A7JtY.webp 640w, /_astro/AVL17.DYS3oAKl_ZLDxtj.webp 750w, /_astro/AVL17.DYS3oAKl_ZGt9dO.webp 828w, /_astro/AVL17.DYS3oAKl_Z23ElKJ.webp 1080w, /_astro/AVL17.DYS3oAKl_Z1p1vc6.webp 1280w, /_astro/AVL17.DYS3oAKl_bMdIR.webp 1293w"></p>
<h2 id="2-3-树">2-3 树</h2>
<p>满足二分搜索树的基本性质（对任意节点，大于左节点，小于右节点，对于有两个元素的节点同样，左 &#x3C; 根1 &#x3C; 中 &#x3C; 根2 &#x3C; 右）
节点可以存放一个元素，或者两个元素
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1014px) 1014px, 100vw"  data-astro-image="constrained" width="1014" height="834" src="/_astro/2-3%E6%A0%91.Cvml56DO_Z1KNk05.webp" srcset="/_astro/2-3%E6%A0%91.Cvml56DO_ZMOfeu.webp 640w, /_astro/2-3%E6%A0%91.Cvml56DO_ZjENoc.webp 750w, /_astro/2-3%E6%A0%91.Cvml56DO_1wl2ba.webp 828w, /_astro/2-3%E6%A0%91.Cvml56DO_Z1KNk05.webp 1014w">
2-3 树是一颗绝对平衡的树 （从根节点到任意一个叶子节点，所经过的节点数量一定是相同的）
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 959px) 959px, 100vw"  data-astro-image="constrained" width="959" height="687" src="/_astro/2-3%E6%A0%912.DA-zNKlU_ZBRIRU.webp" srcset="/_astro/2-3%E6%A0%912.DA-zNKlU_Z1Lsmpt.webp 640w, /_astro/2-3%E6%A0%912.DA-zNKlU_2nTbuN.webp 750w, /_astro/2-3%E6%A0%912.DA-zNKlU_xOYXK.webp 828w, /_astro/2-3%E6%A0%912.DA-zNKlU_ZBRIRU.webp 959w"></p>
<h3 id="2-3-树如何维护绝对的平衡">2-3 树如何维护绝对的平衡</h3>
<p>向，单节点 42 添加 37，本应添加到左子树，为满足绝对平衡性质，融合为单节点
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 366px) 366px, 100vw"  data-astro-image="constrained" width="366" height="303" src="/_astro/2-3%E6%A0%913.Diff-CxT_2sNsvT.webp" srcset="/_astro/2-3%E6%A0%913.Diff-CxT_2sNsvT.webp 366w">
再添加节点 12，不能添加到空节点，先融合
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 467px) 467px, 100vw"  data-astro-image="constrained" width="467" height="325" src="/_astro/2-3%E6%A0%914.DUlhvTXa_Z254fiz.webp" srcset="/_astro/2-3%E6%A0%914.DUlhvTXa_Z254fiz.webp 467w">
再分裂
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 633px) 633px, 100vw"  data-astro-image="constrained" width="633" height="500" src="/_astro/2-3%E6%A0%915.BdsnB9xh_MjpwK.webp" srcset="/_astro/2-3%E6%A0%915.BdsnB9xh_MjpwK.webp 633w">
再添加节点 18，本应添加到 12 右子树，12 右子树是空，不会添加，先和 12 融合
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 661px) 661px, 100vw"  data-astro-image="constrained" width="661" height="493" src="/_astro/2-3%E6%A0%916.DR0J3W1B_Z2g3tOK.webp" srcset="/_astro/2-3%E6%A0%916.DR0J3W1B_rXovU.webp 640w, /_astro/2-3%E6%A0%916.DR0J3W1B_Z2g3tOK.webp 661w">
添加 6，先融合
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 694px) 694px, 100vw"  data-astro-image="constrained" width="694" height="490" src="/_astro/2-3%E6%A0%917.tQ0piY9o_Z2tbih8.webp" srcset="/_astro/2-3%E6%A0%917.tQ0piY9o_1hC4Pf.webp 640w, /_astro/2-3%E6%A0%917.tQ0piY9o_Z2tbih8.webp 694w">
如果这样拆解就不绝对平衡了
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 691px) 691px, 100vw"  data-astro-image="constrained" width="691" height="626" src="/_astro/2-3%E6%A0%918.B_pjXqmf_8g4VN.webp" srcset="/_astro/2-3%E6%A0%918.B_pjXqmf_SyjoM.webp 640w, /_astro/2-3%E6%A0%918.B_pjXqmf_8g4VN.webp 691w">
应该把中间节点向父节点融合，如果父亲节点只有一个元素，直接融合即可
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 615px) 615px, 100vw"  data-astro-image="constrained" width="615" height="504" src="/_astro/2-3%E6%A0%919.BzejIXm8_2R5Rm.webp" srcset="/_astro/2-3%E6%A0%919.BzejIXm8_2R5Rm.webp 615w">
插入 11
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 699px) 699px, 100vw"  data-astro-image="constrained" width="699" height="496" src="/_astro/2-3%E6%A0%9110.Di5krwKF_XVklQ.webp" srcset="/_astro/2-3%E6%A0%9110.Di5krwKF_Vlcs5.webp 640w, /_astro/2-3%E6%A0%9110.Di5krwKF_XVklQ.webp 699w">
插入 5
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 732px) 732px, 100vw"  data-astro-image="constrained" width="732" height="476" src="/_astro/2-3%E6%A0%9111.DYmzt86D_8NikW.webp" srcset="/_astro/2-3%E6%A0%9111.DYmzt86D_ZF29po.webp 640w, /_astro/2-3%E6%A0%9111.DYmzt86D_8NikW.webp 732w">
中间节点向父节点融合，但是现在父节点有两个元素了
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 766px) 766px, 100vw"  data-astro-image="constrained" width="766" height="597" src="/_astro/2-3%E6%A0%9112.NRH34N_V_1ezCFf.webp" srcset="/_astro/2-3%E6%A0%9112.NRH34N_V_Z1nC1BA.webp 640w, /_astro/2-3%E6%A0%9112.NRH34N_V_Z1iMCHe.webp 750w, /_astro/2-3%E6%A0%9112.NRH34N_V_1ezCFf.webp 766w">
依旧融合
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 814px) 814px, 100vw"  data-astro-image="constrained" width="814" height="501" src="/_astro/2-3%E6%A0%9113.DKOrj8zl_Z1xTGlX.webp" srcset="/_astro/2-3%E6%A0%9113.DKOrj8zl_Z1LwJKx.webp 640w, /_astro/2-3%E6%A0%9113.DKOrj8zl_Z1CITxX.webp 750w, /_astro/2-3%E6%A0%9113.DKOrj8zl_Z1xTGlX.webp 814w">
分裂父节点，它没有父节点了，不需要向上融合了
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 814px) 814px, 100vw"  data-astro-image="constrained" width="814" height="666" src="/_astro/2-3%E6%A0%9114.DEZP8OV9_Zku951.webp" srcset="/_astro/2-3%E6%A0%9114.DEZP8OV9_1nliSe.webp 640w, /_astro/2-3%E6%A0%9114.DEZP8OV9_1rTwPr.webp 750w, /_astro/2-3%E6%A0%9114.DEZP8OV9_Zku951.webp 814w"></p>
<p>小结
如果插入2-节点
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 826px) 826px, 100vw"  data-astro-image="constrained" width="826" height="601" src="/_astro/2-3%E6%A0%9115.CwXZxj7z_Z1wjcCY.webp" srcset="/_astro/2-3%E6%A0%9115.CwXZxj7z_PYfti.webp 640w, /_astro/2-3%E6%A0%9115.CwXZxj7z_Z1zujP4.webp 750w, /_astro/2-3%E6%A0%9115.CwXZxj7z_Z1wjcCY.webp 826w">
如果插入3-节点，父节点为2-节点
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1461px) 1461px, 100vw"  data-astro-image="constrained" width="1461" height="793" src="/_astro/2-3%E6%A0%9116.DmL1bmRU_1aC3ik.webp" srcset="/_astro/2-3%E6%A0%9116.DmL1bmRU_Z1dkaeD.webp 640w, /_astro/2-3%E6%A0%9116.DmL1bmRU_ZkQCOi.webp 750w, /_astro/2-3%E6%A0%9116.DmL1bmRU_1s1mvd.webp 828w, /_astro/2-3%E6%A0%9116.DmL1bmRU_Z23dCfw.webp 1080w, /_astro/2-3%E6%A0%9116.DmL1bmRU_GnAtw.webp 1280w, /_astro/2-3%E6%A0%9116.DmL1bmRU_1aC3ik.webp 1461w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1585px) 1585px, 100vw"  data-astro-image="constrained" width="1585" height="830" src="/_astro/2-3%E6%A0%9117.Bi1oKZKI_ctM79.webp" srcset="/_astro/2-3%E6%A0%9117.Bi1oKZKI_ZFoCpk.webp 640w, /_astro/2-3%E6%A0%9117.Bi1oKZKI_ZGRYOL.webp 750w, /_astro/2-3%E6%A0%9117.Bi1oKZKI_ZqYmEg.webp 828w, /_astro/2-3%E6%A0%9117.Bi1oKZKI_1HUE3o.webp 1080w, /_astro/2-3%E6%A0%9117.Bi1oKZKI_23wESw.webp 1280w, /_astro/2-3%E6%A0%9117.Bi1oKZKI_ctM79.webp 1585w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1545px) 1545px, 100vw"  data-astro-image="constrained" width="1545" height="839" src="/_astro/2-3%E6%A0%9118.BK7HcxKL_olhI0.webp" srcset="/_astro/2-3%E6%A0%9118.BK7HcxKL_Zr355y.webp 640w, /_astro/2-3%E6%A0%9118.BK7HcxKL_Z24ClVM.webp 750w, /_astro/2-3%E6%A0%9118.BK7HcxKL_Z10UaCV.webp 828w, /_astro/2-3%E6%A0%9118.BK7HcxKL_8dwVv.webp 1080w, /_astro/2-3%E6%A0%9118.BK7HcxKL_Z2cmn8n.webp 1280w, /_astro/2-3%E6%A0%9118.BK7HcxKL_olhI0.webp 1545w">
如果插入3-节点，父节点为3-节点
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1634px) 1634px, 100vw"  data-astro-image="constrained" width="1634" height="734" src="/_astro/2-3%E6%A0%9119.BwwIHpxw_ZpOaPf.webp" srcset="/_astro/2-3%E6%A0%9119.BwwIHpxw_Z1wnKHj.webp 640w, /_astro/2-3%E6%A0%9119.BwwIHpxw_Z29m6qJ.webp 750w, /_astro/2-3%E6%A0%9119.BwwIHpxw_2pYOgu.webp 828w, /_astro/2-3%E6%A0%9119.BwwIHpxw_ZMlpRe.webp 1080w, /_astro/2-3%E6%A0%9119.BwwIHpxw_22XfOD.webp 1280w, /_astro/2-3%E6%A0%9119.BwwIHpxw_ZpOaPf.webp 1634w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1635px) 1635px, 100vw"  data-astro-image="constrained" width="1635" height="840" src="/_astro/2-3%E6%A0%9120.CgWHIJt6_241Mfb.webp" srcset="/_astro/2-3%E6%A0%9120.CgWHIJt6_NBat3.webp 640w, /_astro/2-3%E6%A0%9120.CgWHIJt6_Qekko.webp 750w, /_astro/2-3%E6%A0%9120.CgWHIJt6_Z1nTPKF.webp 828w, /_astro/2-3%E6%A0%9120.CgWHIJt6_Zcs0zf.webp 1080w, /_astro/2-3%E6%A0%9120.CgWHIJt6_Z2klhYs.webp 1280w, /_astro/2-3%E6%A0%9120.CgWHIJt6_241Mfb.webp 1635w"></p>
<h2 id="红黑树">红黑树</h2>
<h3 id="红黑树和2-3树的等价性">红黑树和2-3树的等价性</h3>
<p>2-3树拆分成二分搜索树，可以这样等价
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1408px) 1408px, 100vw"  data-astro-image="constrained" width="1408" height="810" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%91.B-qBRWus_58k71.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%91.B-qBRWus_ZiiofJ.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%91.B-qBRWus_Z13m8YB.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%91.B-qBRWus_Z1EDAqI.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%91.B-qBRWus_Z1O8fQz.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%91.B-qBRWus_2s18DW.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%91.B-qBRWus_58k71.webp 1408w">
使用红色节点来表示 b和c之间这个特殊的关系
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1530px) 1530px, 100vw"  data-astro-image="constrained" width="1530" height="848" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%912.DU3apu92_Z9hMY1.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%912.DU3apu92_mUnb9.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%912.DU3apu92_Z1FO7Ua.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%912.DU3apu92_Z2rIAMv.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%912.DU3apu92_ghY29.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%912.DU3apu92_Z1Wr2nk.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%912.DU3apu92_Z9hMY1.webp 1530w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1459px) 1459px, 100vw"  data-astro-image="constrained" width="1459" height="852" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%913.CXdJ9b1P_fFcIK.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%913.CXdJ9b1P_5xPwR.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%913.CXdJ9b1P_1nUXt9.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%913.CXdJ9b1P_261SPQ.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%913.CXdJ9b1P_PsRWP.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%913.CXdJ9b1P_1QyeTR.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%913.CXdJ9b1P_fFcIK.webp 1459w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1574px) 1574px, 100vw"  data-astro-image="constrained" width="1574" height="655" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%914.DWqhyd5f_Z2wj4Wf.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%914.DWqhyd5f_Z188SR9.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%914.DWqhyd5f_2docRR.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%914.DWqhyd5f_Z15xhTE.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%914.DWqhyd5f_1Yojrw.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%914.DWqhyd5f_Z1YNrh9.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%914.DWqhyd5f_Z2wj4Wf.webp 1574w"></p>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1447px) 1447px, 100vw"  data-astro-image="constrained" width="1447" height="820" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%915.Bc1hfYym_Z1zAlEt.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%915.Bc1hfYym_ZH9HUH.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%915.Bc1hfYym_1JgpbN.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%915.Bc1hfYym_okqIl.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%915.Bc1hfYym_ZYPMHq.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%915.Bc1hfYym_Z2vEnH0.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%915.Bc1hfYym_Z1zAlEt.webp 1447w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1553px) 1553px, 100vw"  data-astro-image="constrained" width="1553" height="838" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%916.D_97KCdo_Z25vqOC.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%916.D_97KCdo_1M1Jdf.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%916.D_97KCdo_iiIH3.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%916.D_97KCdo_6pKpO.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%916.D_97KCdo_Z1IQRku.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%916.D_97KCdo_ZHfbta.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%916.D_97KCdo_Z25vqOC.webp 1553w"></p>
<h3 id="红黑树添加元素">红黑树添加元素</h3>
<p>首次添加是红色的（2-3树临时融合进子节点）
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 812px) 812px, 100vw"  data-astro-image="constrained" width="812" height="440" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%917.BHmmGMS9_2quJPR.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%917.BHmmGMS9_Z15vMdw.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%917.BHmmGMS9_Zoictr.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%917.BHmmGMS9_2quJPR.webp 812w">
根节点置黑
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 823px) 823px, 100vw"  data-astro-image="constrained" width="823" height="456" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%918.Cp-nDVF6_Z2iH7cq.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%918.Cp-nDVF6_Z1VFu62.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%918.Cp-nDVF6_ZWGWIF.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%918.Cp-nDVF6_Z2iH7cq.webp 823w">
添加到黑节点左侧，直接插入即可
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 797px) 797px, 100vw"  data-astro-image="constrained" width="797" height="489" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%919.Cnfa6_29_2cHIaM.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%919.Cnfa6_29_24Gkpn.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%919.Cnfa6_29_1T8sV4.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%919.Cnfa6_29_2cHIaM.webp 797w">
假设应该添加到右子树
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 782px) 782px, 100vw"  data-astro-image="constrained" width="782" height="493" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9110.Dhv-ukUn_Z1exRm4.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9110.Dhv-ukUn_7CR9y.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9110.Dhv-ukUn_Z1kKjzT.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9110.Dhv-ukUn_Z1exRm4.webp 782w">
此时需要进行左旋转
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1203px) 1203px, 100vw"  data-astro-image="constrained" width="1203" height="527" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9111.PaseTE3__Z1bdHK8.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9111.PaseTE3__Z1rXMax.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9111.PaseTE3__Z1dJAUr.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9111.PaseTE3__Zo8dG9.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9111.PaseTE3__Z1aInIL.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9111.PaseTE3__Z1bdHK8.webp 1203w">
左旋转过程
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 975px) 975px, 100vw"  data-astro-image="constrained" width="975" height="740" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9112.C8oS_MRk_Zb9lMY.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9112.C8oS_MRk_P3D7L.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9112.C8oS_MRk_Z2mQW8l.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9112.C8oS_MRk_1ESHwD.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9112.C8oS_MRk_Zb9lMY.webp 975w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1480px) 1480px, 100vw"  data-astro-image="constrained" width="1480" height="858" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9113.By56J7K__yaH9x.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9113.By56J7K__JjBYH.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9113.By56J7K__Z1CjA01.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9113.By56J7K__ZOOvnT.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9113.By56J7K__GelSf.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9113.By56J7K__1xbMhf.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9113.By56J7K__yaH9x.webp 1480w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1481px) 1481px, 100vw"  data-astro-image="constrained" width="1481" height="760" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9114.DfhoPxnH_Z2lVVXQ.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9114.DfhoPxnH_Z2kPkfo.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9114.DfhoPxnH_15iqRA.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9114.DfhoPxnH_Z1kH374.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9114.DfhoPxnH_yAM1l.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9114.DfhoPxnH_IoGz1.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9114.DfhoPxnH_Z2lVVXQ.webp 1481w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1563px) 1563px, 100vw"  data-astro-image="constrained" width="1563" height="782" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9115.DjxmFCgc_Zbtdkz.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9115.DjxmFCgc_elSA8.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9115.DjxmFCgc_18Uwxf.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9115.DjxmFCgc_1g59rl.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9115.DjxmFCgc_Z2x1pzG.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9115.DjxmFCgc_g2lM8.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9115.DjxmFCgc_Zbtdkz.webp 1563w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1527px) 1527px, 100vw"  data-astro-image="constrained" width="1527" height="797" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9116.COYp6QEI_ZFNXz5.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9116.COYp6QEI_1VL5UL.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9116.COYp6QEI_hHIeO.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9116.COYp6QEI_oJgal.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9116.COYp6QEI_1aegQy.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9116.COYp6QEI_Z1f7988.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9116.COYp6QEI_ZFNXz5.webp 1527w"></p>
<p>添加节点 66，此时放在右边，此时相当于2-3树的临时4节点
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1192px) 1192px, 100vw"  data-astro-image="constrained" width="1192" height="797" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9117.B0Vnaqbu_1jOCA9.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9117.B0Vnaqbu_17F2aI.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9117.B0Vnaqbu_1eJNFP.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9117.B0Vnaqbu_21HynE.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9117.B0Vnaqbu_Z2rYdWL.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9117.B0Vnaqbu_1jOCA9.webp 1192w">
需要把它拆分为三个新节点，对应到红黑树，就是三个节点置黑
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1464px) 1464px, 100vw"  data-astro-image="constrained" width="1464" height="858" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9118.BCKC_Xi__1K7puK.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9118.BCKC_Xi__1gxLXs.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9118.BCKC_Xi__Z17xjKz.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9118.BCKC_Xi__2eqFv2.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9118.BCKC_Xi__10xDun.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9118.BCKC_Xi__ZHDfDY.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9118.BCKC_Xi__1K7puK.webp 1464w">
向上融合，根节点置红，这个过程也叫颜色翻转
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1561px) 1561px, 100vw"  data-astro-image="constrained" width="1561" height="868" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9119.CzorDbVU_ZgbVHO.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9119.CzorDbVU_2fDuhH.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9119.CzorDbVU_2qitaj.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9119.CzorDbVU_Z1Qgv3V.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9119.CzorDbVU_2b4M2L.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9119.CzorDbVU_Z1aL2MV.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9119.CzorDbVU_ZgbVHO.webp 1561w"></p>
<p>添加节点 12，此时放在左边
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1455px) 1455px, 100vw"  data-astro-image="constrained" width="1455" height="883" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9120.BfmBdiE6_9VL8e.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9120.BfmBdiE6_1L4S8O.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9120.BfmBdiE6_ZC9iyM.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9120.BfmBdiE6_20bczs.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9120.BfmBdiE6_fEpaW.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9120.BfmBdiE6_TifJA.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9120.BfmBdiE6_9VL8e.webp 1455w">
拆分为三个节点，需要右旋转
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1421px) 1421px, 100vw"  data-astro-image="constrained" width="1421" height="856" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9121.DOYXJkw9_1j53R5.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9121.DOYXJkw9_Zzmrdj.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9121.DOYXJkw9_Zqqw2a.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9121.DOYXJkw9_Z29LJy4.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9121.DOYXJkw9_Z1nknkf.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9121.DOYXJkw9_ZEA0tO.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9121.DOYXJkw9_1j53R5.webp 1421w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1451px) 1451px, 100vw"  data-astro-image="constrained" width="1451" height="861" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9122.azsvDU9y_2qc5oy.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9122.azsvDU9y_Z1Ei3qk.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9122.azsvDU9y_Z1tTeuR.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9122.azsvDU9y_1PBR1q.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9122.azsvDU9y_ZYsJbl.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9122.azsvDU9y_2ipXcr.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9122.azsvDU9y_2qc5oy.webp 1451w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1451px) 1451px, 100vw"  data-astro-image="constrained" width="1451" height="882" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9123.0rMK6Og2_14kfqR.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9123.0rMK6Og2_XHlFG.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9123.0rMK6Og2_Z1pvP1U.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9123.0rMK6Og2_1cNF7k.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9123.0rMK6Og2_16cCXy.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9123.0rMK6Og2_1JPtxc.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9123.0rMK6Og2_14kfqR.webp 1451w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1528px) 1528px, 100vw"  data-astro-image="constrained" width="1528" height="875" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9124.Ckn_J_E0_ZRKSss.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9124.Ckn_J_E0_ZCC3Bw.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9124.Ckn_J_E0_Zs69Hu.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9124.Ckn_J_E0_knTSC.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9124.Ckn_J_E0_1lLekK.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9124.Ckn_J_E0_Zij8wO.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9124.Ckn_J_E0_ZRKSss.webp 1528w">
颜色翻转
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1472px) 1472px, 100vw"  data-astro-image="constrained" width="1472" height="865" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9125.C8JejWaa_Zcdx1H.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9125.C8JejWaa_19q2VU.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9125.C8JejWaa_Z1eF3M7.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9125.C8JejWaa_ZpQapg.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9125.C8JejWaa_Z6kq0O.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9125.C8JejWaa_Z1Owkab.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9125.C8JejWaa_Zcdx1H.webp 1472w"></p>
<p>添加节点 40
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 852px) 852px, 100vw"  data-astro-image="constrained" width="852" height="639" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9126.-PMjU1zY_Z2jJquN.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9126.-PMjU1zY_Z1Lf0lW.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9126.-PMjU1zY_61xbR.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9126.-PMjU1zY_ZmnqlX.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9126.-PMjU1zY_Z2jJquN.webp 852w">
对节点 37 左旋转
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 966px) 966px, 100vw"  data-astro-image="constrained" width="966" height="586" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9127.Dj2Gl0Ss_Z2vQ1yo.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9127.Dj2Gl0Ss_Z1Jq86J.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9127.Dj2Gl0Ss_11Wo4A.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9127.Dj2Gl0Ss_Z1os6Nj.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9127.Dj2Gl0Ss_Z2vQ1yo.webp 966w">
对节点 42 右旋转
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 874px) 874px, 100vw"  data-astro-image="constrained" width="874" height="566" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9128.muHY1Rwl_ZzhwqF.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9128.muHY1Rwl_Z1AvMxf.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9128.muHY1Rwl_Re9l0.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9128.muHY1Rwl_1MVhuG.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9128.muHY1Rwl_ZzhwqF.webp 874w">
颜色翻转
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 956px) 956px, 100vw"  data-astro-image="constrained" width="956" height="627" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9129.H-wy4YsM_Z1QcycM.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9129.H-wy4YsM_ZWGaiG.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9129.H-wy4YsM_1v3Lzy.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9129.H-wy4YsM_1QJp98.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9129.H-wy4YsM_Z1QcycM.webp 956w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1658px) 1658px, 100vw"  data-astro-image="constrained" width="1658" height="853" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9130.D0hZGy7C_1Elz6U.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9130.D0hZGy7C_mUjOW.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9130.D0hZGy7C_Z1h82Q0.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9130.D0hZGy7C_1n3AXh.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9130.D0hZGy7C_QXv5H.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9130.D0hZGy7C_11LpDn.webp 1280w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9130.D0hZGy7C_1Elz6U.webp 1658w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1175px) 1175px, 100vw"  data-astro-image="constrained" width="1175" height="807" src="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9131.DYJ9JgfW_Z1CsYN0.webp" srcset="/_astro/%E7%BA%A2%E9%BB%91%E6%A0%9131.DYJ9JgfW_owsxS.webp 640w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9131.DYJ9JgfW_Z20e341.webp 750w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9131.DYJ9JgfW_1jKIxY.webp 828w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9131.DYJ9JgfW_gdLMP.webp 1080w, /_astro/%E7%BA%A2%E9%BB%91%E6%A0%9131.DYJ9JgfW_Z1CsYN0.webp 1175w"></p>
<h2 id="哈希表">哈希表</h2>
<h3 id="哈希函数的设计">哈希函数的设计</h3>
<p>大整数
一个简单的解决方法：模一个素数
<a href="https://planetmath.org/goodhashtableprimes">https://planetmath.org/goodhashtableprimes</a>
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1390px) 1390px, 100vw"  data-astro-image="constrained" width="1390" height="818" src="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A8.Ce9S_ouk_Z2h3Tkn.webp" srcset="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A8.Ce9S_ouk_2lMCu6.webp 640w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A8.Ce9S_ouk_1JBlyR.webp 750w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A8.Ce9S_ouk_1hcmVo.webp 828w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A8.Ce9S_ouk_OMrAD.webp 1080w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A8.Ce9S_ouk_24LB8o.webp 1280w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A8.Ce9S_ouk_Z2h3Tkn.webp 1390w"></p>
<p>浮点型
转成整型处理
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1505px) 1505px, 100vw"  data-astro-image="constrained" width="1505" height="867" src="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A82.D3emmuX7_2uIkNT.webp" srcset="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A82.D3emmuX7_1Lrg72.webp 640w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A82.D3emmuX7_1KIDPS.webp 750w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A82.D3emmuX7_Z9dOcG.webp 828w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A82.D3emmuX7_2hoAAI.webp 1080w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A82.D3emmuX7_KrUCz.webp 1280w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A82.D3emmuX7_2uIkNT.webp 1505w"></p>
<p>字符串 转成整型处理
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1485px) 1485px, 100vw"  data-astro-image="constrained" width="1485" height="780" src="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A83.BIt1nUkh_bCOQg.webp" srcset="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A83.BIt1nUkh_ZUoCI4.webp 640w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A83.BIt1nUkh_1iphBs.webp 750w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A83.BIt1nUkh_ZRV6J9.webp 828w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A83.BIt1nUkh_EX47L.webp 1080w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A83.BIt1nUkh_ZPjbWv.webp 1280w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A83.BIt1nUkh_bCOQg.webp 1485w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1556px) 1556px, 100vw"  data-astro-image="constrained" width="1556" height="736" src="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A84.BlY9lzSi_Z1qkyOV.webp" srcset="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A84.BlY9lzSi_1Gw6Jj.webp 640w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A84.BlY9lzSi_ZTM0cN.webp 750w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A84.BlY9lzSi_1Krwsx.webp 828w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A84.BlY9lzSi_Z1Saydj.webp 1080w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A84.BlY9lzSi_ZMPA0U.webp 1280w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A84.BlY9lzSi_Z1qkyOV.webp 1556w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1576px) 1576px, 100vw"  data-astro-image="constrained" width="1576" height="729" src="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A85.CTVAfLmz_Z1J4fkL.webp" srcset="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A85.CTVAfLmz_D8pLD.webp 640w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A85.CTVAfLmz_17y1z5.webp 750w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A85.CTVAfLmz_ZHn4Xo.webp 828w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A85.CTVAfLmz_Z2fLkDG.webp 1080w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A85.CTVAfLmz_24TkOv.webp 1280w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A85.CTVAfLmz_Z1J4fkL.webp 1576w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1052px) 1052px, 100vw"  data-astro-image="constrained" width="1052" height="836" src="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A86.DDbMj4np_1Wztpb.webp" srcset="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A86.DDbMj4np_Z15CPwD.webp 640w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A86.DDbMj4np_ZP5Btk.webp 750w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A86.DDbMj4np_1tAxpj.webp 828w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A86.DDbMj4np_1Wztpb.webp 1052w"></p>
<h3 id="哈希冲突的处理-链地址法">哈希冲突的处理 链地址法</h3>
<p><code>(hashCode(k1) &#x26; 0x7fffffff) % M</code>
(和 0x7fffffff 按位与相当于是把符号位设置成 0)
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1495px) 1495px, 100vw"  data-astro-image="constrained" width="1495" height="859" src="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A87.iG_huLQZ_1yRvJ6.webp" srcset="/_astro/%E5%93%88%E5%B8%8C%E8%A1%A87.iG_huLQZ_Z232W3.webp 640w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A87.iG_huLQZ_Z2KEdc.webp 750w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A87.iG_huLQZ_Z1WI8gL.webp 828w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A87.iG_huLQZ_24buws.webp 1080w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A87.iG_huLQZ_Z1YMclR.webp 1280w, /_astro/%E5%93%88%E5%B8%8C%E8%A1%A87.iG_huLQZ_1yRvJ6.webp 1495w"></p>
<h3 id="哈希冲突的处理-开放地址法">哈希冲突的处理 开放地址法</h3>
<p>如果哈希重复，向后+1，寻找空闲位置写入（线性探测）
此外还有平方探测 +2 + 4 +8 +16
二次哈希 (使用另一个哈希函数再次哈希) + hash2(key)</p>
<p>扩容根据指标 — 负载率（已经存入元素/总容量）达到某个阈值（如0.75）扩容</p>
<p>更多冲突处理方式
再哈希法 Rehashing
Coalesced Hashing</p>
<h2 id="sqrt-分解">SQRT 分解</h2>
<p><img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 982px) 982px, 100vw"  data-astro-image="constrained" width="982" height="783" src="/_astro/SQRT%E5%88%86%E8%A7%A3.C_7qsN47_1KySvb.webp" srcset="/_astro/SQRT%E5%88%86%E8%A7%A3.C_7qsN47_MKuSU.webp 640w, /_astro/SQRT%E5%88%86%E8%A7%A3.C_7qsN47_1AXdXu.webp 750w, /_astro/SQRT%E5%88%86%E8%A7%A3.C_7qsN47_1CqkRU.webp 828w, /_astro/SQRT%E5%88%86%E8%A7%A3.C_7qsN47_1KySvb.webp 982w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1421px) 1421px, 100vw"  data-astro-image="constrained" width="1421" height="746" src="/_astro/SQRT%E5%88%86%E8%A7%A32.N6Gxrcpg_Dg7Nn.webp" srcset="/_astro/SQRT%E5%88%86%E8%A7%A32.N6Gxrcpg_1zSVyY.webp 640w, /_astro/SQRT%E5%88%86%E8%A7%A32.N6Gxrcpg_Z1bOwTC.webp 750w, /_astro/SQRT%E5%88%86%E8%A7%A32.N6Gxrcpg_Z1v9nVy.webp 828w, /_astro/SQRT%E5%88%86%E8%A7%A32.N6Gxrcpg_2kjO1m.webp 1080w, /_astro/SQRT%E5%88%86%E8%A7%A32.N6Gxrcpg_1j3hJU.webp 1280w, /_astro/SQRT%E5%88%86%E8%A7%A32.N6Gxrcpg_Dg7Nn.webp 1421w">
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1613px) 1613px, 100vw"  data-astro-image="constrained" width="1613" height="853" src="/_astro/SQRT%E5%88%86%E8%A7%A33.Bx3LHk3x_Z1CFdyS.webp" srcset="/_astro/SQRT%E5%88%86%E8%A7%A33.Bx3LHk3x_ZJAAzS.webp 640w, /_astro/SQRT%E5%88%86%E8%A7%A33.Bx3LHk3x_Z21ScUI.webp 750w, /_astro/SQRT%E5%88%86%E8%A7%A33.Bx3LHk3x_Z2ld3WE.webp 828w, /_astro/SQRT%E5%88%86%E8%A7%A33.Bx3LHk3x_20QN4D.webp 1080w, /_astro/SQRT%E5%88%86%E8%A7%A33.Bx3LHk3x_2bTzsu.webp 1280w, /_astro/SQRT%E5%88%86%E8%A7%A33.Bx3LHk3x_Z1CFdyS.webp 1613w"></p>
<h3 id="sqrt-分解区间查询">SQRT 分解区间查询</h3>
<p>基本思想：把一个含有 N 个元素的数组分成 √n 份
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1655px) 1655px, 100vw"  data-astro-image="constrained" width="1655" height="718" src="/_astro/SQRT%E5%88%86%E8%A7%A34.DpYWr6sN_Z2uADOh.webp" srcset="/_astro/SQRT%E5%88%86%E8%A7%A34.DpYWr6sN_2qk9IH.webp 640w, /_astro/SQRT%E5%88%86%E8%A7%A34.DpYWr6sN_222DfX.webp 750w, /_astro/SQRT%E5%88%86%E8%A7%A34.DpYWr6sN_Uq9jK.webp 828w, /_astro/SQRT%E5%88%86%E8%A7%A34.DpYWr6sN_2lSDDY.webp 1080w, /_astro/SQRT%E5%88%86%E8%A7%A34.DpYWr6sN_ZPtNwY.webp 1280w, /_astro/SQRT%E5%88%86%E8%A7%A34.DpYWr6sN_Z2uADOh.webp 1655w">
然后计算每一组的和
当查询的左右端点都在同一组时，比如查询 <code>sum[9..11]</code>, 9/4 = 2 11/4=2, 都在 2 组, 计算和即可遍历从 复杂度 O(sqrt(n))
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1657px) 1657px, 100vw"  data-astro-image="constrained" width="1657" height="804" src="/_astro/SQRT%E5%88%86%E8%A7%A35.XOMekVFY_ZsJGzT.webp" srcset="/_astro/SQRT%E5%88%86%E8%A7%A35.XOMekVFY_dTarq.webp 640w, /_astro/SQRT%E5%88%86%E8%A7%A35.XOMekVFY_ZPFNdJ.webp 750w, /_astro/SQRT%E5%88%86%E8%A7%A35.XOMekVFY_Zz87R3.webp 828w, /_astro/SQRT%E5%88%86%E8%A7%A35.XOMekVFY_ZDdc6u.webp 1080w, /_astro/SQRT%E5%88%86%E8%A7%A35.XOMekVFY_Z1GJCGY.webp 1280w, /_astro/SQRT%E5%88%86%E8%A7%A35.XOMekVFY_ZsJGzT.webp 1657w">
当查询的左右端点不在同一组时，比如查询 <code>sum[6...9]</code>, 端点在 1 组和 2 组，相连的，遍历从 6-9，求和，复杂度 O(sqrt(n))
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1646px) 1646px, 100vw"  data-astro-image="constrained" width="1646" height="800" src="/_astro/SQRT%E5%88%86%E8%A7%A36.DkeVTKDk_Z1tRNu3.webp" srcset="/_astro/SQRT%E5%88%86%E8%A7%A36.DkeVTKDk_ZQxfk5.webp 640w, /_astro/SQRT%E5%88%86%E8%A7%A36.DkeVTKDk_ZqGlQt.webp 750w, /_astro/SQRT%E5%88%86%E8%A7%A36.DkeVTKDk_Z1EzxDy.webp 828w, /_astro/SQRT%E5%88%86%E8%A7%A36.DkeVTKDk_1S6pyL.webp 1080w, /_astro/SQRT%E5%88%86%E8%A7%A36.DkeVTKDk_OyXXh.webp 1280w, /_astro/SQRT%E5%88%86%E8%A7%A36.DkeVTKDk_Z1tRNu3.webp 1646w">
查询 <code>sum[3...16]</code>, sum(3) + 预处理的区间和 + sum(16)，复杂度 O(sqrt(n))
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1662px) 1662px, 100vw"  data-astro-image="constrained" width="1662" height="786" src="/_astro/SQRT%E5%88%86%E8%A7%A37.BqZqNVhP_1m20C7.webp" srcset="/_astro/SQRT%E5%88%86%E8%A7%A37.BqZqNVhP_Z28er5A.webp 640w, /_astro/SQRT%E5%88%86%E8%A7%A37.BqZqNVhP_mUPTp.webp 750w, /_astro/SQRT%E5%88%86%E8%A7%A37.BqZqNVhP_ZluJiQ.webp 828w, /_astro/SQRT%E5%88%86%E8%A7%A37.BqZqNVhP_Z17UD3m.webp 1080w, /_astro/SQRT%E5%88%86%E8%A7%A37.BqZqNVhP_1hAxst.webp 1280w, /_astro/SQRT%E5%88%86%E8%A7%A37.BqZqNVhP_1m20C7.webp 1662w"></p>
<h3 id="sqrt-分解的单元素更新">SQRT 分解的单元素更新</h3>
<p>update: <code>data[6] = 66</code>
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1651px) 1651px, 100vw"  data-astro-image="constrained" width="1651" height="844" src="/_astro/SQRT%E5%88%86%E8%A7%A38.BMi8GCxf_ZVUfuz.webp" srcset="/_astro/SQRT%E5%88%86%E8%A7%A38.BMi8GCxf_11Maao.webp 640w, /_astro/SQRT%E5%88%86%E8%A7%A38.BMi8GCxf_kn5db.webp 750w, /_astro/SQRT%E5%88%86%E8%A7%A38.BMi8GCxf_Z1tnCWw.webp 828w, /_astro/SQRT%E5%88%86%E8%A7%A38.BMi8GCxf_17u4fW.webp 1080w, /_astro/SQRT%E5%88%86%E8%A7%A38.BMi8GCxf_Z1uTXH6.webp 1280w, /_astro/SQRT%E5%88%86%E8%A7%A38.BMi8GCxf_ZVUfuz.webp 1651w"></p>
<ol>
<li>直接更新原始数组中 6 索引值为 66</li>
<li><del>重新计算这个区间的和</del>，用原来的区间和 - 原来元素值 + 新的值
<img alt="img.png" loading="lazy" decoding="async" fetchpriority="auto" sizes="(min-width: 1635px) 1635px, 100vw"  data-astro-image="constrained" width="1635" height="797" src="/_astro/SQRT%E5%88%86%E8%A7%A39.CISKirv9_ZHcDIu.webp" srcset="/_astro/SQRT%E5%88%86%E8%A7%A39.CISKirv9_1GgEW5.webp 640w, /_astro/SQRT%E5%88%86%E8%A7%A39.CISKirv9_277ypG.webp 750w, /_astro/SQRT%E5%88%86%E8%A7%A39.CISKirv9_2nFeLn.webp 828w, /_astro/SQRT%E5%88%86%E8%A7%A39.CISKirv9_ZhHhN6.webp 1080w, /_astro/SQRT%E5%88%86%E8%A7%A39.CISKirv9_ZDn1j7.webp 1280w, /_astro/SQRT%E5%88%86%E8%A7%A39.CISKirv9_ZHcDIu.webp 1635w"></li>
</ol>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">package</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#FFFFFF;--shiki-dark-font-style:italic"> SQRT</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">import</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> java</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA">.</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">util</span><span style="--shiki-light:#212121;--shiki-dark:#C792EA">.</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">Arrays</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">// LeetCode 303 307</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B"> NumberArray</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    private</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[] </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">data</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> blocks</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    private</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> N</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; </span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">// 元素总数</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    private</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> B</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; </span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">// 每组元素个数</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    private</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> Bn</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; </span><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">// 组数</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    public</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> NumberArray</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[] </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0">nums</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        N </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> nums</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (N </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">==</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        B </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) </span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478">Math</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">sqrt</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">N</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        Bn </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> N </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">/</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> B </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (N </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">%</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> B </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">==</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> ?</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> :</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        data </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> Arrays</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic">copyOf</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">nums</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> N</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        blocks </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> new</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[N];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> N; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            blocks[i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">/</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> B] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[i];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    public</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> sumRange</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0"> x</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0"> y</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (x </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ||</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> x </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> N </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">||</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> y </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ||</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> y </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> N </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">||</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> x </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">></span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> y) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            return</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> bstart</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> x </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">/</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> B;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> bend</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> x </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">%</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> B;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> res</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (bstart </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">==</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> bend) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> x; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> y; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                res </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[i];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> res;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> x; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (bstart </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">*</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> B; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            res </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[i];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> b</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> bstart </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; b </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> bend; b</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            res </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> blocks[b];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> bend </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">*</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> B; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> y; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            res </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[i];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> res;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    public</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> update</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0"> i</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">,</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0"> val</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> ||</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">>=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> N) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            return</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> oldVal</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> data[i];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> b</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">/</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> B;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        blocks[b] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">-=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> oldVal;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        blocks[b] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> val;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        data[i] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> val;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<h2 id="非比较排序算法">非比较排序算法</h2>
<p>不是元素之间不能比较，而是不借助 compareTo
主要应用于字符串排序</p>
<h3 id="计数排序">计数排序</h3>
<p><a href="https://leetcode.com/problems/sort-colors/description/">LeetCode 75: 颜色分类</a>
给定一个数组，只包含 0，1，2，对数组排序</p>
<p>之前使用<a href="#%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F">三路快排</a>来实现</p>
<p>假设有 cnt0 个 0； cnt1 个 1； cnt2 个 2；</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="text"><code><span class="line"><span></span></span>
<span class="line"><span>|--cnt0 个 0--|--cnt1 个 1--|--cnt2 个 2--|</span></span>
<span class="line"><span>|-------------|-------------|------------|</span></span>
<span class="line"><span>0           cnt0        cnt1+cnt2        n</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[l, r1] 区间有 r1 - l + 1 个元素</span></span>
<span class="line"><span>[l, r2) 区间有 r2 - l 个元素</span></span></code></pre>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> setColors</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF">[] nums</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">    int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[] </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">cnt</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> new</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">3</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> num</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> :</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> nums) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        cnt[num]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">    // 对 nums 排序，前中后 0 1 2</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        nums[i] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        nums[i] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        nums[i] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<p>注：cnt 的数组中，下标代表 nums 中的元素值（当前只有 0，1，2）三种元素，每一项存储了 nums 中值为 i 的数量之和</p>
<p>当前代码的局限性</p>
<p>只能处理 0，1，2 这三种元素</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[] </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">cnt</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> new</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">3</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> num</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> :</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> nums) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    cnt[num]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre>
<p>如果数字的可能范围是 <code>[0, R)</code>
那么可以改写为 <code>int[] cnt = new int[R]</code></p>
<p>计数排序需要的空间：O(R)
只适用小数据范围</p>
<p>如果数字的可能范围是 <code>[L, R]</code>
<code>int[] cnt = new int[R-L+1]</code>
<code>cnt[num-L]++</code></p>
<p>如果取值范围是<code>[0, 101)</code>, 不可能写 101 个 for 循环</p>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="text"><code><span class="line"><span>总结 cnt 和 index 对应关系</span></span>
<span class="line"><span></span></span>
<span class="line"><span>0: [0, cnt[0])</span></span>
<span class="line"><span>1: [cnt[0], cnt[0] + cnt[1])</span></span>
<span class="line"><span>2: [cnt[0] + cnt[1], cnt[0] + cnt[1] + cnt[2])</span></span>
<span class="line"><span>3: [cnt[0] + cnt[1]+ cnt[2], cnt[0] + cnt[1] + cnt[2]+ cnt[3])</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可以看到，排序就是</span></span>
<span class="line"><span>把 [0, cnt[0]) 设置为 0</span></span>
<span class="line"><span>把 [cnt[0], cnt[0] + cnt[1])) 设置为 1</span></span>
<span class="line"><span>把 [cnt[0] + cnt[1], cnt[0] + cnt[1] + cnt[2]) 设置为 2</span></span>
<span class="line"><span>……</span></span></code></pre>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="text"><code><span class="line"><span>        0  1  2  3</span></span>
<span class="line"><span>cnt     2  3  5  6</span></span>
<span class="line"><span>index   0  2  5  10  16</span></span>
<span class="line"><span></span></span>
<span class="line"><span>新开辟数组 index, 把 [index[i], index[i+1]) 区间的值为 i</span></span>
<span class="line"><span></span></span>
<span class="line"><span>index 中值的计算</span></span>
<span class="line"><span>index[1] = index[0] + cnt[0] (0+2=2)</span></span>
<span class="line"><span>index[2] = index[1] + cnt[1] (2+3=5)</span></span>
<span class="line"><span>index[3] = index[2] + cnt[2] (5+5=10)</span></span>
<span class="line"><span>……</span></span>
<span class="line"><span></span></span></code></pre>
<pre class="astro-code astro-code-themes min-light night-owl" style="--shiki-light:#24292eff;--shiki-dark:#d6deeb;--shiki-light-bg:#ffffff;--shiki-dark-bg:#011627; overflow-x: auto;" tabindex="0" data-language="java"><code><span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">public</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#FFCB8B"> Solution</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">    public</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> void</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic"> setColors</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[] </span><span style="--shiki-light:#24292EFF;--shiki-dark:#D7DBE0">nums</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D9F5DD">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">        // 处理元素取值范围是 [0, R) 的计数排序</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> R</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 3</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[] </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">cnt</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> new</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[R];</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> num</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> :</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> nums) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            cnt[num]</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-light-font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic">        // [index[i], index[i + 1]) 的值为 1</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">        int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[] </span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478">index</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic"> new</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">[R </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        index[</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> R; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            index[i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> index[i] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> cnt[i];</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">        for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#1976D2;--shiki-dark:#C5E478"> index</span><span style="--shiki-light:#212121;--shiki-dark:#D6DEEB">.</span><span style="--shiki-light:#1976D2;--shiki-light-font-style:inherit;--shiki-dark:#FAF39F;--shiki-dark-font-style:italic">length</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> -</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">; i</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-light-font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic">            for</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">int</span><span style="--shiki-light:#24292EFF;--shiki-dark:#C5E478"> j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> index[i]; j </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> index[i </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#1976D2;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">]; j</span><span style="--shiki-light:#D32F2F;--shiki-dark:#7FDBCA">++</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">) {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">                nums[j] </span><span style="--shiki-light:#D32F2F;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB"> i;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">            }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">        }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D6DEEB">}</span></span></code></pre> </article> <hr class="my-8 border-dashed">  <ul class="mt-4 mb-8 sm:my-8"> <li class="group inline-block group-hover:cursor-pointer my-1 underline-offset-4"> <a href="/tags/数据结构/" class="relative pe-2 text-lg underline decoration-dashed group-hover:-top-0.5 group-hover:text-accent focus-visible:p-1 focus-visible:no-underline text-sm" data-astro-transition-scope="astro-36ssibgs-2"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block opacity-80 -me-3.5 size-4"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M5 9l14 0" /><path d="M5 15l14 0" /><path d="M11 4l-4 16" /><path d="M17 4l-4 16" /></svg>
&nbsp;<span>数据结构</span> </a> </li><li class="group inline-block group-hover:cursor-pointer my-1 underline-offset-4"> <a href="/tags/算法/" class="relative pe-2 text-lg underline decoration-dashed group-hover:-top-0.5 group-hover:text-accent focus-visible:p-1 focus-visible:no-underline text-sm" data-astro-transition-scope="astro-36ssibgs-3"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block opacity-80 -me-3.5 size-4"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M5 9l14 0" /><path d="M5 15l14 0" /><path d="M11 4l-4 16" /><path d="M17 4l-4 16" /></svg>
&nbsp;<span>算法</span> </a> </li> </ul> <div id="btt-btn-container" class="fixed end-4 bottom-8 z-50 md:sticky md:end-auto md:float-end md:me-1 translate-y-14 opacity-0 transition duration-500"> <button data-button="back-to-top" class="group relative bg-background px-2 py-1 size-14 rounded-full shadow-xl md:h-8 md:w-fit md:rounded-md md:shadow-none md:focus-visible:rounded-none md:bg-background/35 md:bg-clip-padding md:backdrop-blur-lg"> <span id="progress-indicator" class="absolute inset-0 -z-10 block size-14 scale-110 rounded-full bg-transparent md:hidden md:h-8 md:rounded-md"></span> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block rotate-90 md:hidden"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 6l-6 6l6 6" /></svg> <span class="sr-only text-sm group-hover:text-accent md:not-sr-only"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-4"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M12 5l0 14" /><path d="M16 9l-4 -4" /><path d="M8 9l4 -4" /></svg>
Back To Top
</span> </button> </div> <script data-astro-rerun>
  /** Scrolls the document to the top when
   * the "Back to Top" button is clicked. */
  function backToTop() {
    const rootElement = document.documentElement;
    const btnContainer = document.querySelector("#btt-btn-container");
    const backToTopBtn = document.querySelector("[data-button='back-to-top']");
    const progressIndicator = document.querySelector("#progress-indicator");

    if (!rootElement || !btnContainer || !backToTopBtn || !progressIndicator)
      return;

    // Attach click event handler for back-to-top button
    backToTopBtn.addEventListener("click", () => {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    });

    // Handle button visibility according to scroll position
    let lastVisible = null;
    function handleScroll() {
      const scrollTotal = rootElement.scrollHeight - rootElement.clientHeight;
      const scrollTop = rootElement.scrollTop;
      const scrollPercent = Math.floor((scrollTop / scrollTotal) * 100);

      progressIndicator.style.setProperty(
        "background-image",
        `conic-gradient(var(--accent), var(--accent) ${scrollPercent}%, transparent ${scrollPercent}%)`
      );

      const isVisible = scrollTop / scrollTotal > 0.3;

      if (isVisible !== lastVisible) {
        btnContainer.classList.toggle("opacity-100", isVisible);
        btnContainer.classList.toggle("translate-y-0", isVisible);
        btnContainer.classList.toggle("opacity-0", !isVisible);
        btnContainer.classList.toggle("translate-y-14", !isVisible);
        lastVisible = isVisible;
      }
    }

    let ticking = false;
    document.addEventListener("scroll", () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          handleScroll();
          ticking = false;
        });
        ticking = true;
      }
    });
  }
  backToTop();
</script> <div class="flex flex-none flex-col items-center justify-center gap-1 md:items-start"><span class="italic">Share this post on:</span><div class="text-center"><a href="https://wa.me/?text=https://xiecang.cc/posts/data-structures-and-algorithms/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post via WhatsApp"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 21l1.65 -3.8a9 9 0 1 1 3.4 2.9l-5.05 .9" /><path d="M9 10a.5 .5 0 0 0 1 0v-1a.5 .5 0 0 0 -1 0v1a5 5 0 0 0 5 5h1a.5 .5 0 0 0 0 -1h-1a.5 .5 0 0 0 0 1" /></svg><span class="sr-only">Share this post via WhatsApp</span></a><a href="https://www.facebook.com/sharer.php?u=https://xiecang.cc/posts/data-structures-and-algorithms/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post on Facebook"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" /></svg><span class="sr-only">Share this post on Facebook</span></a><a href="https://x.com/intent/post?url=https://xiecang.cc/posts/data-structures-and-algorithms/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post on X"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M4 4l11.733 16h4.267l-11.733 -16z" /><path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" /></svg><span class="sr-only">Share this post on X</span></a><a href="https://t.me/share/url?url=https://xiecang.cc/posts/data-structures-and-algorithms/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post via Telegram"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 10l-4 4l6 6l4 -16l-18 7l4 2l2 6l3 -4" /></svg><span class="sr-only">Share this post via Telegram</span></a><a href="https://pinterest.com/pin/create/button/?url=https://xiecang.cc/posts/data-structures-and-algorithms/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post on Pinterest"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M8 20l4 -9" /><path d="M10.7 14c.437 1.263 1.43 2 2.55 2c2.071 0 3.75 -1.554 3.75 -4a5 5 0 1 0 -9.7 1.7" /><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /></svg><span class="sr-only">Share this post on Pinterest</span></a><a href="mailto:?subject=See%20this%20post&#38;body=https://xiecang.cc/posts/data-structures-and-algorithms/" class="group inline-block hover:text-accent scale-90 p-2 hover:rotate-6 sm:p-1" title="Share this post via email"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" /><path d="M3 7l9 6l9 -6" /></svg><span class="sr-only">Share this post via email</span></a></div></div> <hr class="my-6 border-dashed"> <!-- Previous/Next Post Buttons --> <div data-pagefind-ignore class="grid grid-cols-1 gap-6 sm:grid-cols-2"> <a href="/posts/how-to-implement-pipes-in-shell" class="flex w-full gap-1 hover:opacity-75"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block flex-none rtl:rotate-180"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M15 6l-6 6l6 6" /></svg> <div> <span>Previous Post</span> <div class="text-sm text-accent/85">如何在 shell 中实现管道？</div> </div> </a> <a href="/posts/os-memory-management" class="flex w-full justify-end gap-1 text-end hover:opacity-75 sm:col-start-2"> <div> <span>Next Post</span> <div class="text-sm text-accent/85">操作系统之内存管理</div> </div> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block flex-none rtl:rotate-180"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M9 6l6 6l-6 6" /></svg> </a> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZQIRKt" component-url="/_astro/Comments.Tr4YJp9X.js" component-export="default" renderer-url="/_astro/client.BPIbHqJh.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;Comments&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> </div> </main> <footer class="w-full mt-auto"> <div class="mx-auto max-w-app px-0"> <hr class="border-border" aria-hidden="true"> </div> <div class="flex flex-col items-center justify-between py-6 sm:flex-row-reverse sm:py-4"> <div class="flex-wrap justify-center gap-1 flex"> <a href="https://github.com/xiecang" class="group inline-block hover:text-accent p-2 hover:rotate-6 sm:p-1" title="Cang's Blog on GitHub"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block size-6 scale-125 fill-transparent stroke-current stroke-2 opacity-90 group-hover:fill-transparent sm:scale-110"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" /></svg> <span class="sr-only">Cang&#39;s Blog on GitHub</span> </a> </div> <div class="my-2 flex flex-col items-center whitespace-nowrap sm:flex-row"> <span>Copyright &#169; 2025</span> <span class="hidden sm:inline">&nbsp;|&nbsp;</span> <span>All rights reserved.</span> </div> </div> </footer> <script async defer src="https://analytics.xiecang.cc/script.js" data-website-id="a828d832-99b6-49d2-83cd-3bdabf448261"></script>  </body></html> <script data-astro-rerun>
  /** Create a progress indicator
   *  at the top */
  function createProgressBar() {
    // Create the main container div
    const progressContainer = document.createElement("div");
    progressContainer.className =
      "progress-container fixed top-0 z-10 h-1 w-full bg-background";

    // Create the progress bar div
    const progressBar = document.createElement("div");
    progressBar.className = "progress-bar h-1 w-0 bg-accent";
    progressBar.id = "myBar";

    // Append the progress bar to the progress container
    progressContainer.appendChild(progressBar);

    // Append the progress container to the document body or any other desired parent element
    document.body.appendChild(progressContainer);
  }
  createProgressBar();

  /** Update the progress bar
   *  when user scrolls */
  function updateScrollProgress() {
    document.addEventListener("scroll", () => {
      const winScroll =
        document.body.scrollTop || document.documentElement.scrollTop;
      const height =
        document.documentElement.scrollHeight -
        document.documentElement.clientHeight;
      const scrolled = (winScroll / height) * 100;
      if (document) {
        const myBar = document.getElementById("myBar");
        if (myBar) {
          myBar.style.width = scrolled + "%";
        }
      }
    });
  }
  // updateScrollProgress();

  /** Attaches links to headings in the document,
   *  allowing sharing of sections easily */
  function addHeadingLinks() {
    const headings = Array.from(
      document.querySelectorAll("h2, h3, h4, h5, h6")
    );
    for (const heading of headings) {
      heading.classList.add("group");
      const link = document.createElement("a");
      link.className =
        "heading-link ms-2 no-underline opacity-75 md:opacity-0 md:group-hover:opacity-100 md:focus:opacity-100";
      link.href = "#" + heading.id;

      const span = document.createElement("span");
      span.ariaHidden = "true";
      span.innerText = "#";
      link.appendChild(span);
      heading.appendChild(link);
    }
  }
  addHeadingLinks();

  /** Attaches copy buttons to code blocks in the document,
   * allowing users to copy code easily. */
  function attachCopyButtons() {
    const copyButtonLabel = "Copy";
    const codeBlocks = Array.from(document.querySelectorAll("pre"));

    for (const codeBlock of codeBlocks) {
      const wrapper = document.createElement("div");
      wrapper.style.position = "relative";

      const copyButton = document.createElement("button");
      copyButton.className =
        "copy-code absolute end-3 top-3 rounded bg-muted/80 px-2 py-1 text-xs leading-4 text-foreground font-medium";
      copyButton.innerHTML = copyButtonLabel;
      codeBlock.setAttribute("tabindex", "0");
      codeBlock.appendChild(copyButton);

      // wrap codebock with relative parent element
      codeBlock?.parentNode?.insertBefore(wrapper, codeBlock);
      wrapper.appendChild(codeBlock);

      copyButton.addEventListener("click", async () => {
        await copyCode(codeBlock, copyButton);
      });
    }

    async function copyCode(block, button) {
      const code = block.querySelector("code");
      const text = code?.innerText;

      await navigator.clipboard.writeText(text ?? "");

      // visual feedback that task is completed
      button.innerText = "Copied";

      setTimeout(() => {
        button.innerText = copyButtonLabel;
      }, 700);
    }
  }
  attachCopyButtons();

  /* Go to page start after page swap */
  document.addEventListener("astro:after-swap", () =>
    window.scrollTo({ left: 0, top: 0, behavior: "instant" })
  );
</script>